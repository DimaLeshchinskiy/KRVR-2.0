{"version":3,"sources":["modals/SettingsModal/SettingsModal.js","data/tools.js","data/toolTypes.js","config/api.js","managers/toolManager/index.js","modals/ToolsModal/ToolsModal.js","modals/ConsoleModal/ConsoleModal.js","context/file/index.js","models/File.js","data/actionTypes.js","managers/actionManager/index.js","managers/fileManager/index.js","managers/postProcessManager/index.js","modals/ProcessModal/ProcessModal.js","modals/NotificationModal/NotificationModal.js","modals/ShutdownModal/ShutdownModal.js","components/LeftBar/LeftBar.js","_vendor/ThreeJS/STLLoader.js","managers/renderManager/index.js","modals/MillingActionModal/ThreeJS/index.js","modals/MillingActionModal/MillingActionModal.js","components/FileSettings/config.js","components/FileMillingActions/FileMillingActions.js","components/FileInfo/FileInfo.js","components/FileSettings/FileSettings.js","components/FileExplorer/FileExplorer.js","components/JogControl/JogControl.js","components/RightBar/RightBar.js","components/ThreeRender/view.js","components/GhostButtonsUp/GhostButtonsUp.js","components/GhostButtonsDown/GhostButtonsDown.js","components/MainSpace/MainSpace.js","components/FileDrop/FileDrop.js","App.js","reportWebVitals.js","index.js"],"names":["SettingsModal","useState","show","setShow","handleClose","onClick","class","xmlns","width","height","fill","viewBox","d","Modal","onHide","centered","Header","Title","Body","selected","value","type","id","for","checked","Footer","Button","variant","tools","typeId","title","fields","label","inputType","inputName","toolTypes","tool","action","actions","actionTypes","postProcess","convertStep","getTools","Promise","resolve","reject","fetch","api","then","response","json","catch","error","toolsJSON","getToolTypes","toolTypesJSON","ToolsModal","props","tab","setTab","editToolId","setEditToolId","scrollable","size","ListTab","openCreate","openEdit","toolId","CreateEditTab","openList","setTools","setToolTypes","useEffect","placeholder","scope","map","toolTypeId","length","find","toolType","role","console","log","toolTypeSelected","setToolTypeSelected","toolTitle","setToolTitle","setTool","setFields","onChange","e","target","field","Object","assign","options","push","forEach","i","getTypeOptions","fieldName","ConsoleModal","FileContext","React","createContext","FileContextProvider","files","setFiles","selectedFile","setSelectedFile","Provider","children","File","this","_id","Date","now","_name","_size","_file","_millingActions","newName","newfile","newsize","millingActions","split","pop","serializeAction","actionJsonRepre","fieldJsonRepre","getNumberFieldValue","getFaceFieldValue","toJSON","Types","TEXT","ARRBUFF","DATAURL","availableExtensions","FileManager","uploadedFile","ext","name","includes","file","flag","fr","FileReader","onload","data","result","onerror","readAsText","readAsArrayBuffer","readAsDataURL","readFile","res","image","Image","src","formData","FormData","append","method","body","fileJsonRepre","extension","fileData","_options","a","serializeFile","send","headers","JSON","stringify","ProcessModal","useContext","NotificationModal","ShutdownModal","LeftBar","window","open","STLLoader","manager","url","onLoad","onProgress","onError","loader","THREE","setPath","path","setResponseType","setRequestHeader","requestHeader","setWithCredentials","withCredentials","load","text","parse","itemError","matchDataViewAt","query","reader","offset","il","getUint8","buffer","binData","array_buffer","Uint8Array","charCodeAt","ensureBinary","DataView","getUint32","byteLength","solid","off","isBinary","r","g","b","colors","defaultR","defaultG","defaultB","alpha","faces","hasColors","index","Float32Array","geometry","vertices","normals","face","start","normalX","getFloat32","normalY","normalZ","packedColor","getUint16","vertexstart","componentIdx","setAttribute","parseBinary","patternSolid","patternFace","faceCounter","patternFloat","source","patternVertex","RegExp","patternNormal","normal","groupCount","startVertex","endVertex","exec","vertexCountPerFace","normalCountPerFace","x","parseFloat","y","z","count","addGroup","parseASCII","decodeText","loadTexture","loadSVG","canvas","document","createElement","ctx","getContext","img","drawImage","texture","loadThreeD","convertStepToStl","renderRasterImages","promises","all","values","meshes","val","file2img","materialTexture","color","materialBack","materials","mesh","applyMatrix4","makeRotationX","Math","PI","userData","renderVectorImages","renderThreeDObjects","material","side","OBJLoader","object3D","center","renderStepObjects","stlData","RenderManager","render","filter","threeD_objects","step_objects","getDimension","object","originFace","screenWidth","innerWidth","compareFaces","f1","f2","minVerticesNeed","countOfEqualsVertex","j","findNeighborFaces","toNonIndexed","getAttribute","array","c","getFace","getAllFaces","faceOrigin","nieghborFaces","needToPush","notNeedToPush","shift","some","nieghborFace","concat","filterByNeighbor","plane","point","distanceToPoint","filterByPlane","dot","filterByNormal","removeOriginFace","A","B","C","setFromCoplanarPoints","makePlane","renderer","powerPreference","ThreeRender","renderThree","bind","onWindowResize","getCanvasRelativePosition","addSelectedFace","cameraPersp","scene","orbit","raycaster","group","viewRef","createRef","dimension","setPixelRatio","devicePixelRatio","setSize","current","appendChild","domElement","aspect","position","set","lookAt","background","gridHelper","className","add","OrbitControls","update","addEventListener","inst","event","isPickModeEnable","mouse","pos","clientWidth","clientHeight","setFromCamera","intersects","intersectObject","bufferGeometry","vertex","makeBufferGeometry","onPick","pickPropertyName","dispose","rect","getBoundingClientRect","clientX","left","clientY","top","updateProjectionMatrix","remove","faceInputFields","property_name","vertexColors","makeMesh","ref","Component","MillingActionModal","onSaveAction","pickModeEnable","setPickPropertyName","actionTypeSelected","setActionTypeSelected","setActionTypes","actionTitle","setActionTitle","actionTypesJSON","isEdit","propertyName","ToolPicker","InputList","tooglePickMode","FacePicker","NumberInput","toolSelected","setToolSelected","setValue","svg","content","setActions","newActions","_action","Fragment","onEditClick","onDeleteClick","typeTitle","onAddClick","bytes","floor","pow","toFixed","formatBytes","FileSettings","config","settingId","setSettingId","el","clases","join","FileExplorer","classes","fileId","JogControl","feed","setFeed","step","setStep","intensity","setIntensity","jogMove","moveObject","min","max","Number","RightBar","currentCamera","control","innerHeight","TransformControls","enabled","objects","selectedObject","undefined","attach","context","f","keyCode","setSpace","space","setTranslationSnap","setRotationSnap","degToRad","setScaleSnap","setEditTool","showX","showY","showZ","setMode","editTool","detach","contextType","GhostButtonsUp","is2D","setIs2D","autoComplete","fillRule","GhostButtonsDown","rotation","scale","MainSpace","FileDrop","element","handleDrag","preventDefault","stopPropagation","handleDragIn","handleDragOut","handleDrop","dataTransfer","loadFiles","clearData","list","newFiles","newFile","removeEventListener","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a7a6671b.chunk.js","sourcesContent":["import './SettingsModal.css';\r\n\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport React, { useState } from 'react';\r\n\r\nfunction SettingsModal() {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return(\r\n    <>\r\n      <div onClick={handleShow} class=\"btn\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-gear-fill\" viewBox=\"0 0 16 16\">\r\n          <path\r\n            d=\"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <Modal show={show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" centered>\r\n        <Modal.Header>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <select class=\"form-select form-select-sm\" aria-label=\".form-select-sm example\">\r\n            <option selected>Open this select menu</option>\r\n            <option value=\"1\">One</option>\r\n            <option value=\"2\">Two</option>\r\n            <option value=\"3\">Three</option>\r\n          </select>\r\n\r\n          <select class=\"form-select form-select-sm\" aria-label=\".form-select-sm example\">\r\n            <option selected>Open this select menu</option>\r\n            <option value=\"1\">One</option>\r\n            <option value=\"2\">Two</option>\r\n            <option value=\"3\">Three</option>\r\n          </select>\r\n\r\n          <div class=\"form-check form-switch\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckDefault\"/>\r\n            <label class=\"form-check-label\" for=\"flexSwitchCheckDefault\">Default switch checkbox input</label>\r\n          </div>\r\n          <div class=\"form-check form-switch\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" id=\"flexSwitchCheckChecked\" checked/>\r\n            <label class=\"form-check-label\" for=\"flexSwitchCheckChecked\">Checked switch checkbox input</label>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SettingsModal;\r\n","var tools = [\r\n  {\r\n    id: \"1\",\r\n    typeId: \"1\",\r\n    title: \"Square End Mills 1mm lof 2mm\",\r\n    fields: [\r\n      {\r\n        label: \"Field Label\",\r\n        inputType: \"number\",\r\n        inputName: \"inputName\",\r\n        value: 52,\r\n      },\r\n      {\r\n        label: \"Field Label 2\",\r\n        inputType: \"number\",\r\n        inputName: \"inputName2\",\r\n        value: 10,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    id: \"2\",\r\n    typeId: \"1\",\r\n    title: \"Square End Mills 2mm lof 4mm\",\r\n    fields: [\r\n      {\r\n        label: \"Field Label\",\r\n        inputType: \"number\",\r\n        inputName: \"inputName\",\r\n        value: 52,\r\n      },\r\n      {\r\n        label: \"Field Label 2\",\r\n        inputType: \"number\",\r\n        inputName: \"inputName2\",\r\n        value: 10,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default tools;\r\n","var toolTypes = [\r\n  {\r\n    id: \"1\",\r\n    title: \"Square end mills\",\r\n    type: \"square_end_mills\",\r\n    fields: [\r\n      {\r\n        label: \"Field Label\",\r\n        inputType: \"number\",\r\n        inputName: \"inputName\",\r\n      },\r\n      {\r\n        label: \"Field Label 2\",\r\n        inputType: \"number\",\r\n        inputName: \"inputName2\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default toolTypes;\r\n","export default {\r\n  get: {\r\n    // tools\r\n    tool: \"/tool\",\r\n    tools: \"/tools\",\r\n    toolTypes: \"/toolTypes\",\r\n\r\n    // actions\r\n    action: \"/action\",\r\n    actions: \"/actions\",\r\n    actionTypes: \"/actionTypes\",\r\n  },\r\n  post: {\r\n    postProcess: \"/postProcess\",\r\n    convertStep: \"/convert/step\",\r\n  },\r\n};\r\n","import toolsJSON from \"@data/tools.js\";\r\nimport toolTypesJSON from \"@data/toolTypes.js\";\r\nimport api from \"@config/api.js\";\r\n\r\nexport function getTools() {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(api.get.tools)\r\n      .then((response) => response.json())\r\n      .then((json) => resolve(json))\r\n      .catch((error) => {\r\n        resolve(toolsJSON);\r\n      });\r\n  });\r\n}\r\n\r\nexport function getToolTypes() {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(api.get.toolTypes)\r\n      .then((response) => response.json())\r\n      .then((json) => resolve(json))\r\n      .catch((error) => {\r\n        resolve(toolTypesJSON);\r\n      });\r\n  });\r\n}\r\n\r\nexport function getToolById(toolId) {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.get.tool}?toolId=${toolId}`)\r\n      .then((response) => response.json())\r\n      .then((json) => resolve(json))\r\n      .catch((error) => {\r\n        resolve(toolsJSON.find((tool) => tool.id === toolId));\r\n      });\r\n  });\r\n}\r\n","import \"./ToolsModal.css\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport { getTools, getToolById, getToolTypes } from \"@managers/toolManager\";\r\n\r\nfunction ToolsModal(props) {\r\n  const [show, setShow] = useState(false);\r\n  const [tab, setTab] = useState(props.tab || \"list\"); // <list || create>\r\n  const [editToolId, setEditToolId] = useState(props.editToolId);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const openList = () => {\r\n    setEditToolId(null);\r\n    setTab(\"list\");\r\n  };\r\n\r\n  const openCreate = () => {\r\n    setEditToolId(null);\r\n    setTab(\"create\");\r\n  };\r\n\r\n  const openEdit = (toolId) => {\r\n    setEditToolId(toolId);\r\n    setTab(\"create\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div onClick={handleShow} class=\"btn\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-screwdriver\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path d=\"M0 1l1-1 3.081 2.2a1 1 0 0 1 .419.815v.07a1 1 0 0 0 .293.708L10.5 9.5l.914-.305a1 1 0 0 1 1.023.242l3.356 3.356a1 1 0 0 1 0 1.414l-1.586 1.586a1 1 0 0 1-1.414 0l-3.356-3.356a1 1 0 0 1-.242-1.023L9.5 10.5 3.793 4.793a1 1 0 0 0-.707-.293h-.071a1 1 0 0 1-.814-.419L0 1zm11.354 9.646a.5.5 0 0 0-.708.708l3 3a.5.5 0 0 0 .708-.708l-3-3z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        scrollable\r\n        size={\"lg\"}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Tools Manager</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          {tab === \"list\" ? (\r\n            <ListTab openCreate={openCreate} openEdit={openEdit} />\r\n          ) : (\r\n            <CreateEditTab openList={openList} editToolId={editToolId} />\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ToolsModal;\r\n\r\nfunction ListTab(props) {\r\n  const [tools, setTools] = useState([]);\r\n  const [toolTypes, setToolTypes] = useState([]);\r\n\r\n  const onDelete = (toolId) => {\r\n    console.log(toolId);\r\n  };\r\n\r\n  const onEdit = (toolId) => {\r\n    props.openEdit(toolId);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTools().then((tools) => {\r\n      setTools(tools);\r\n    });\r\n    getToolTypes().then((toolTypes) => {\r\n      setToolTypes(toolTypes);\r\n    });\r\n  }, []);\r\n\r\n  const getTypeTitle = (toolTypeId) => {\r\n    if (toolTypes.length == 0) return \"\";\r\n\r\n    let toolType = toolTypes.find((toolType) => toolType.id == toolTypeId);\r\n    return toolType.title;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div class=\"input-group mb-3\">\r\n        <input type=\"text\" class=\"form-control\" placeholder=\"Fulltext search\" />\r\n        <button\r\n          class=\"btn btn-outline-primary\"\r\n          type=\"button\"\r\n          id=\"button-addon2\"\r\n        >\r\n          Search\r\n        </button>\r\n        <button\r\n          class=\"btn btn-primary\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            props.openCreate();\r\n          }}\r\n        >\r\n          Create\r\n        </button>\r\n      </div>\r\n      <table class=\"table table-hover\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\">Tool name</th>\r\n            <th scope=\"col\">Tool type</th>\r\n            <th scope=\"col\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {tools.map((tool) => {\r\n            return (\r\n              <tr>\r\n                <td>{tool.title}</td>\r\n                <td>{getTypeTitle(tool.typeId)}</td>\r\n                <td>\r\n                  <div class=\"btn-group\" role=\"group\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-outline-primary\"\r\n                      onClick={() => {\r\n                        onEdit(tool.id);\r\n                      }}\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-danger\"\r\n                      onClick={() => {\r\n                        onDelete(tool.id);\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction CreateEditTab({ editToolId, openList }) {\r\n  const [toolTypes, setToolTypes] = useState([]);\r\n  const [toolTypeSelected, setToolTypeSelected] = useState(null);\r\n  const [toolTitle, setToolTitle] = useState(\"\");\r\n  const [tool, setTool] = useState({});\r\n  const [fields, setFields] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (editToolId) {\r\n      getToolById(editToolId).then((tool) => {\r\n        setTool(tool);\r\n        setToolTitle(tool.title);\r\n        setToolTypeSelected(tool.typeId);\r\n        setFields(tool.fields);\r\n      });\r\n    }\r\n\r\n    getToolTypes().then((toolTypes) => {\r\n      setToolTypes(toolTypes);\r\n    });\r\n  }, []);\r\n\r\n  const onToolTypeChange = function (e) {\r\n    tool.typeId = null;\r\n    tool.fields = [];\r\n\r\n    if (e.target.value) {\r\n      let type = toolTypes.find((type) => {\r\n        console.log(type, e.target.value);\r\n        return type.id == e.target.value;\r\n      });\r\n      if (type) {\r\n        tool.typeId = type.id;\r\n        tool.fields = type.fields.map((field) => Object.assign({}, field));\r\n      }\r\n    }\r\n\r\n    setToolTypeSelected(tool.typeId);\r\n    setFields(tool.fields);\r\n  };\r\n\r\n  const onFieldValueChange = function (value, fieldName) {\r\n    let field = fields.find((field) => field.inputName === fieldName);\r\n    field.value = value;\r\n\r\n    setFields([...tool.fields]);\r\n  };\r\n\r\n  const getTypeOptions = () => {\r\n    const options = [];\r\n\r\n    options.push(\r\n      <option selected={!toolTypeSelected} value=\"\">\r\n        Choose...\r\n      </option>\r\n    );\r\n\r\n    toolTypes.forEach((type, i) => {\r\n      options.push(\r\n        <option key={i} value={type.id} selected={toolTypeSelected == type.id}>\r\n          {type.title}\r\n        </option>\r\n      );\r\n    });\r\n    return options;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div class=\"btn-group mb-3\" role=\"group\">\r\n        <button\r\n          class=\"btn btn-secondary\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            openList();\r\n          }}\r\n        >\r\n          Back\r\n        </button>\r\n        <button class=\"btn btn-primary\" type=\"button\">\r\n          Save\r\n        </button>\r\n      </div>\r\n      <div class=\"input-group mb-2\">\r\n        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">\r\n          Title\r\n        </span>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"Tool name\"\r\n          value={toolTitle}\r\n          onChange={(e) => setToolTitle(e.target.value)}\r\n        />\r\n      </div>\r\n      <div class=\"input-group mb-2\">\r\n        <label class=\"input-group-text\" for=\"inputGroupSelect01\">\r\n          Tool type\r\n        </label>\r\n        <select\r\n          class=\"form-select\"\r\n          id=\"inputGroupSelect01\"\r\n          onChange={onToolTypeChange}\r\n        >\r\n          {getTypeOptions()}\r\n        </select>\r\n      </div>\r\n      {fields.length === 0 ? (\r\n        <div>Prazdna mnozina</div>\r\n      ) : (\r\n        fields.map((field) => {\r\n          return (\r\n            <div class=\"input-group mt-2\">\r\n              <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">\r\n                {field.label}\r\n              </span>\r\n              <input\r\n                type={field.inputType}\r\n                class=\"form-control\"\r\n                placeholder=\"Tool name\"\r\n                value={field.value}\r\n                onChange={(e) =>\r\n                  onFieldValueChange(e.target.value, field.inputName)\r\n                }\r\n              />\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import './ConsoleModal.css';\r\n\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport React, { useState } from 'react';\r\n\r\nfunction ConsoleModal() {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return(\r\n    <>\r\n      <div onClick={handleShow} class=\"btn\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-terminal-fill\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm9.5 5.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-6.354-.354a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <Modal show={show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" centered>\r\n        <Modal.Header>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <ul class=\"list-group\">\r\n            <li class=\"list-group-item\">An item</li>\r\n            <li class=\"list-group-item\">A second item</li>\r\n            <li class=\"list-group-item\">A third item</li>\r\n            <li class=\"list-group-item\">A fourth item</li>\r\n            <li class=\"list-group-item\">And a fifth one</li>\r\n          </ul>\r\n\r\n          <div class=\"row g-3 justify-content-between\">\r\n            <div class=\"col-9\">\r\n              <label class=\"visually-hidden\" for=\"inlineFormInputGroupUsername\">Command</label>\r\n              <div class=\"input-group\">\r\n                <div class=\"input-group-text\">>_</div>\r\n                <input type=\"text\" class=\"form-control\" id=\"inlineFormInputGroupUsername\" placeholder=\"Command\"/>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-3 d-grid\">\r\n              <button type=\"btn\" class=\"btn btn-primary\">Send</button>\r\n            </div>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ConsoleModal;\r\n","import React, { useState } from \"react\";\r\n\r\nexport const FileContext = React.createContext();\r\n\r\nexport const FileContextProvider = (props) => {\r\n  const [files, setFiles] = useState([]);\r\n  const [selectedFile, setSelectedFile] = useState({});\r\n\r\n  return (\r\n    <FileContext.Provider\r\n      value={{\r\n        files: files,\r\n        setFiles: setFiles,\r\n        selectedFile: selectedFile,\r\n        setSelectedFile: setSelectedFile,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </FileContext.Provider>\r\n  );\r\n};\r\n","class File {\r\n  constructor() {\r\n    this._id = Date.now();\r\n    this._name = null;\r\n    this._size = null;\r\n    this._file = null;\r\n    this._millingActions = [];\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  set name(newName) {\r\n    this._name = newName;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get file() {\r\n    return this._file;\r\n  }\r\n\r\n  set file(newfile) {\r\n    this._file = newfile;\r\n  }\r\n\r\n  get size() {\r\n    return this._size;\r\n  }\r\n\r\n  set size(newsize) {\r\n    this._size = newsize;\r\n  }\r\n\r\n  get millingActions() {\r\n    return this._millingActions;\r\n  }\r\n\r\n  set millingActions(millingActions) {\r\n    this._millingActions = millingActions;\r\n  }\r\n\r\n  ext() {\r\n    return this._name.split(\".\").pop();\r\n  }\r\n}\r\n\r\nexport default File;\r\n","var actionTypes = [\r\n  {\r\n    id: \"1\",\r\n    title: \"Face\",\r\n    type: \"face\",\r\n    fields: [\r\n      {\r\n        label: \"Field Label\",\r\n        inputType: \"number\",\r\n        inputName: \"inputName\",\r\n      },\r\n      {\r\n        label: \"Face\",\r\n        inputType: \"face\",\r\n        inputName: \"inputName2\",\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default actionTypes;\r\n","import Action from \"@models/Action.js\";\r\nimport actionsJSON from \"@data/actions.js\";\r\nimport actionTypesJSON from \"@data/actionTypes.js\";\r\nimport api from \"@config/api.js\";\r\n\r\nexport function createAction() {\r\n  return {\r\n    id: Date.now(),\r\n    typeId: null,\r\n    typeTitle: null,\r\n    toolId: null,\r\n    title: \"Empty Action\",\r\n    fields: [],\r\n    isEdit: false,\r\n  };\r\n}\r\n\r\nexport function getActions() {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(api.get.actions)\r\n      .then((response) => response.json())\r\n      .then((json) => resolve(json))\r\n      .catch((error) => {\r\n        resolve(actionsJSON);\r\n      });\r\n  });\r\n}\r\n\r\nexport function getActionTypes() {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(api.get.actionTypes)\r\n      .then((response) => response.json())\r\n      .then((json) => resolve(json))\r\n      .catch((error) => {\r\n        resolve(actionTypesJSON);\r\n      });\r\n  });\r\n}\r\n\r\nexport function getActionById(actionId) {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(`${api.get.actions}?actionId=${actionId}`)\r\n      .then((response) => response.json())\r\n      .then((json) => resolve(json))\r\n      .catch((error) => {\r\n        resolve(actionsJSON.find((action) => action.id === actionId));\r\n      });\r\n  });\r\n}\r\n\r\nexport function serializeAction(action) {\r\n  const actionJsonRepre = {\r\n    id: action.id,\r\n    toolId: action.toolId,\r\n    typeId: action.typeId,\r\n    title: action.title,\r\n    fields: [],\r\n  };\r\n\r\n  action.fields.forEach((field) => {\r\n    const fieldJsonRepre = {\r\n      label: field.label,\r\n      inputType: field.inputType,\r\n      inputName: field.inputName,\r\n      value: null,\r\n    };\r\n\r\n    if (field.value && field.inputType === \"number\")\r\n      fieldJsonRepre.value = getNumberFieldValue(field);\r\n    if (field.value && field.inputType === \"face\")\r\n      fieldJsonRepre.value = getFaceFieldValue(field);\r\n\r\n    actionJsonRepre.fields.push(fieldJsonRepre);\r\n  });\r\n\r\n  return actionJsonRepre;\r\n}\r\n\r\nconst getNumberFieldValue = (field) => {\r\n  return field.value;\r\n};\r\n\r\nconst getFaceFieldValue = (field) => {\r\n  return field.value.toJSON();\r\n};\r\n","import File from \"@models/File.js\";\r\nimport { serializeAction } from \"@managers/actionManager\";\r\n\r\nconst Types = {\r\n  TEXT: \"text\",\r\n  ARRBUFF: \"arr_buffer\",\r\n  DATAURL: \"data_url\",\r\n};\r\n\r\nconst availableExtensions = [\r\n  \"jpg\",\r\n  \"png\",\r\n  \"bmp\",\r\n  \"obj\",\r\n  \"stl\",\r\n  \"svg\",\r\n  \"obj\",\r\n  \"step\",\r\n];\r\n\r\nclass FileManager {\r\n  static load(uploadedFile) {\r\n    let ext = uploadedFile.name.split(\".\").pop();\r\n    if (!availableExtensions.includes(ext)) return null;\r\n\r\n    console.log(uploadedFile);\r\n    const file = new File();\r\n    file.name = uploadedFile.name;\r\n    file.file = uploadedFile;\r\n    file.size = uploadedFile.size;\r\n\r\n    return file;\r\n  }\r\n\r\n  // param file as model.File\r\n  static readFile(file, flag = FileManager.Types.TEXT) {\r\n    return new Promise((resolve, reject) => {\r\n      var fr = new FileReader();\r\n      fr.onload = () => {\r\n        resolve({\r\n          data: fr.result,\r\n          file: file,\r\n        });\r\n      };\r\n      fr.onerror = reject;\r\n\r\n      switch (flag) {\r\n        case Types.TEXT:\r\n          fr.readAsText(file.file);\r\n          break;\r\n        case Types.ARRBUFF:\r\n          fr.readAsArrayBuffer(file.file);\r\n          break;\r\n        case Types.DATAURL:\r\n          fr.readAsDataURL(file.file);\r\n          break;\r\n        default:\r\n          reject();\r\n      }\r\n    });\r\n  }\r\n\r\n  static file2img(file) {\r\n    return new Promise((resolve, reject) => {\r\n      FileManager.readFile(file, Types.DATAURL).then((res) => {\r\n        const image = new Image();\r\n\r\n        image.onload = () => {\r\n          resolve(image);\r\n        };\r\n\r\n        image.src = res.data;\r\n      });\r\n    });\r\n  }\r\n\r\n  static uploadFiles(files) {\r\n    let url = \"/upload\";\r\n    let formData = new FormData();\r\n\r\n    files.forEach((file) => {\r\n      formData.append(\"files\", file);\r\n    });\r\n\r\n    fetch(url, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n  }\r\n\r\n  static async serializeFile(file) {\r\n    const fileJsonRepre = {\r\n      id: file.id,\r\n      name: file.name,\r\n      extension: file.ext(),\r\n      fileData: (await FileManager.readFile(file)).data,\r\n      millingActions: [],\r\n    };\r\n\r\n    file.millingActions.forEach((action) => {\r\n      fileJsonRepre.millingActions.push(serializeAction(action));\r\n    });\r\n\r\n    return fileJsonRepre;\r\n  }\r\n}\r\n\r\nFileManager.Types = Types;\r\nexport default FileManager;\r\n","import FileManager from \"@managers/fileManager\";\r\nimport api from \"@config/api.js\";\r\n\r\nvar _options = {};\r\n\r\nexport async function postProcess(files, options = {}) {\r\n  Object.assign(_options, options);\r\n\r\n  const json = {\r\n    files: [],\r\n    options: _options,\r\n  };\r\n\r\n  if (files) {\r\n    for (let i = 0; i < files.length; i++) {\r\n      console.log(files[i]);\r\n      json.files.push(await FileManager.serializeFile(files[i]));\r\n    }\r\n\r\n    send(json);\r\n  }\r\n}\r\n\r\nfunction send(json) {\r\n  console.log(json);\r\n\r\n  fetch(api.post.postProcess, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(json),\r\n  });\r\n}\r\n","import \"./ProcessModal.css\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nimport React, { useState, useContext } from \"react\";\r\n\r\nimport { FileContext } from \"@context/file\";\r\nimport { postProcess } from \"@managers/postProcessManager\";\r\n\r\nfunction ProcessModal() {\r\n  const { files } = useContext(FileContext);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const onJustDoIt = () => {\r\n    let options = {};\r\n    postProcess(files, options);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div onClick={handleShow} class=\"btn\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          class=\"bi bi-play-circle-fill\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <Modal\r\n        show={show}\r\n        onHide={handleClose}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div class=\"d-grid gap-2 mt-2\">\r\n            <button class=\"btn btn-primary\" type=\"button\" onClick={onJustDoIt}>\r\n              Just Do it\r\n            </button>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProcessModal;\r\n","import './NotificationModal.css';\r\n\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport React, { useState } from 'react';\r\n\r\nfunction NotificationModal() {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return(\r\n    <>\r\n      <div onClick={handleShow} class=\"btn\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bell-fill\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <Modal show={show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" centered>\r\n        <Modal.Header>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>Comming soon!</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NotificationModal;\r\n","import './ShutdownModal.css';\r\n\r\nimport Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport React, { useState } from 'react';\r\n\r\nfunction ShutdownModal() {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return(\r\n    <>\r\n      <div onClick={handleShow} class=\"btn\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-power\" viewBox=\"0 0 16 16\">\r\n          <path d=\"M7.5 1v7h1V1h-1z\" />\r\n          <path d=\"M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <Modal show={show} onHide={handleClose} aria-labelledby=\"contained-modal-title-vcenter\" centered>\r\n        <Modal.Header>\r\n          <Modal.Title>Modal heading</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>Are you sure you want to shutdown?</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Shutdown\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ShutdownModal;\r\n","import \"./LeftBar.css\";\r\n\r\nimport SettingsModal from \"../../modals/SettingsModal/SettingsModal.js\";\r\nimport ToolsModal from \"../../modals/ToolsModal/ToolsModal.js\";\r\nimport ConsoleModal from \"../../modals/ConsoleModal/ConsoleModal.js\";\r\nimport ProcessModal from \"../../modals/ProcessModal/ProcessModal.js\";\r\nimport NotificationModal from \"../../modals/NotificationModal/NotificationModal.js\";\r\nimport ShutdownModal from \"../../modals/ShutdownModal/ShutdownModal.js\";\r\n\r\nfunction LeftBar() {\r\n  function linkToVideo() {\r\n    window.open(\"https://www.youtube.com/\", \"_blank\");\r\n  }\r\n\r\n  return (\r\n    <div class=\"leftBar\">\r\n      <div class=\"group\">\r\n        <SettingsModal />\r\n        <ToolsModal />\r\n        <ConsoleModal />\r\n        <ProcessModal />\r\n\r\n        <div onClick={linkToVideo} id=\"linkToVideo\" class=\"btn\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-question-circle-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z\" />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"group\">\r\n        <NotificationModal />\r\n        <ShutdownModal />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LeftBar;\r\n","import * as THREE from 'three';\n\nexport class STLLoader extends THREE.Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\t\tconst loader = new THREE.FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( text ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( data ) {\n\n\t\tfunction isBinary( data ) {\n\n\t\t\tconst reader = new DataView( data );\n\t\t\tconst face_size = 32 / 8 * 3 + 32 / 8 * 3 * 3 + 16 / 8;\n\t\t\tconst n_faces = reader.getUint32( 80, true );\n\t\t\tconst expect = 80 + 32 / 8 + n_faces * face_size;\n\n\t\t\tif ( expect === reader.byteLength ) {\n\n\t\t\t\treturn true;\n\n\t\t\t} // An ASCII STL data must begin with 'solid ' as the first six bytes.\n\t\t\t// However, ASCII STLs lacking the SPACE after the 'd' are known to be\n\t\t\t// plentiful.  So, check the first 5 bytes for 'solid'.\n\t\t\t// Several encodings, such as UTF-8, precede the text with up to 5 bytes:\n\t\t\t// https://en.wikipedia.org/wiki/Byte_order_mark#Byte_order_marks_by_encoding\n\t\t\t// Search for \"solid\" to start anywhere after those prefixes.\n\t\t\t// US-ASCII ordinal values for 's', 'o', 'l', 'i', 'd'\n\n\n\t\t\tconst solid = [ 115, 111, 108, 105, 100 ];\n\n\t\t\tfor ( let off = 0; off < 5; off ++ ) {\n\n\t\t\t\t// If \"solid\" text is matched to the current offset, declare it to be an ASCII STL.\n\t\t\t\tif ( matchDataViewAt( solid, reader, off ) ) return false;\n\n\t\t\t} // Couldn't find \"solid\" text at the beginning; it is binary STL.\n\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction matchDataViewAt( query, reader, offset ) {\n\n\t\t\t// Check if each byte in query matches the corresponding byte from the current offset\n\t\t\tfor ( let i = 0, il = query.length; i < il; i ++ ) {\n\n\t\t\t\tif ( query[ i ] !== reader.getUint8( offset + i, false ) ) return false;\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tfunction parseBinary( data ) {\n\n\t\t\tconst reader = new DataView( data );\n\t\t\tconst faces = reader.getUint32( 80, true );\n\t\t\tlet r,\n\t\t\t\tg,\n\t\t\t\tb,\n\t\t\t\thasColors = false,\n\t\t\t\tcolors;\n\t\t\tlet defaultR, defaultG, defaultB, alpha; // process STL header\n\t\t\t// check for default color in header (\"COLOR=rgba\" sequence).\n\n\t\t\tfor ( let index = 0; index < 80 - 10; index ++ ) {\n\n\t\t\t\tif ( reader.getUint32( index, false ) == 0x434F4C4F\n\t/*COLO*/\n\t&& reader.getUint8( index + 4 ) == 0x52\n\t/*'R'*/\n\t&& reader.getUint8( index + 5 ) == 0x3D\n\t/*'='*/\n\t\t\t\t) {\n\n\t\t\t\t\thasColors = true;\n\t\t\t\t\tcolors = new Float32Array( faces * 3 * 3 );\n\t\t\t\t\tdefaultR = reader.getUint8( index + 6 ) / 255;\n\t\t\t\t\tdefaultG = reader.getUint8( index + 7 ) / 255;\n\t\t\t\t\tdefaultB = reader.getUint8( index + 8 ) / 255;\n\t\t\t\t\talpha = reader.getUint8( index + 9 ) / 255;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst dataOffset = 84;\n\t\t\tconst faceLength = 12 * 4 + 2;\n\t\t\tconst geometry = new THREE.BufferGeometry();\n\t\t\tconst vertices = new Float32Array( faces * 3 * 3 );\n\t\t\tconst normals = new Float32Array( faces * 3 * 3 );\n\n\t\t\tfor ( let face = 0; face < faces; face ++ ) {\n\n\t\t\t\tconst start = dataOffset + face * faceLength;\n\t\t\t\tconst normalX = reader.getFloat32( start, true );\n\t\t\t\tconst normalY = reader.getFloat32( start + 4, true );\n\t\t\t\tconst normalZ = reader.getFloat32( start + 8, true );\n\n\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\tconst packedColor = reader.getUint16( start + 48, true );\n\n\t\t\t\t\tif ( ( packedColor & 0x8000 ) === 0 ) {\n\n\t\t\t\t\t\t// facet has its own unique color\n\t\t\t\t\t\tr = ( packedColor & 0x1F ) / 31;\n\t\t\t\t\t\tg = ( packedColor >> 5 & 0x1F ) / 31;\n\t\t\t\t\t\tb = ( packedColor >> 10 & 0x1F ) / 31;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tr = defaultR;\n\t\t\t\t\t\tg = defaultG;\n\t\t\t\t\t\tb = defaultB;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 1; i <= 3; i ++ ) {\n\n\t\t\t\t\tconst vertexstart = start + i * 12;\n\t\t\t\t\tconst componentIdx = face * 3 * 3 + ( i - 1 ) * 3;\n\t\t\t\t\tvertices[ componentIdx ] = reader.getFloat32( vertexstart, true );\n\t\t\t\t\tvertices[ componentIdx + 1 ] = reader.getFloat32( vertexstart + 4, true );\n\t\t\t\t\tvertices[ componentIdx + 2 ] = reader.getFloat32( vertexstart + 8, true );\n\t\t\t\t\tnormals[ componentIdx ] = normalX;\n\t\t\t\t\tnormals[ componentIdx + 1 ] = normalY;\n\t\t\t\t\tnormals[ componentIdx + 2 ] = normalZ;\n\n\t\t\t\t\tif ( hasColors ) {\n\n\t\t\t\t\t\tcolors[ componentIdx ] = r;\n\t\t\t\t\t\tcolors[ componentIdx + 1 ] = g;\n\t\t\t\t\t\tcolors[ componentIdx + 2 ] = b;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\n\n\t\t\tif ( hasColors ) {\n\n\t\t\t\tgeometry.setAttribute( 'color', new THREE.BufferAttribute( colors, 3 ) );\n\t\t\t\tgeometry.hasColors = true;\n\t\t\t\tgeometry.alpha = alpha;\n\n\t\t\t}\n\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction parseASCII( data ) {\n\n\t\t\tconst geometry = new THREE.BufferGeometry();\n\t\t\tconst patternSolid = /solid([\\s\\S]*?)endsolid/g;\n\t\t\tconst patternFace = /facet([\\s\\S]*?)endfacet/g;\n\t\t\tlet faceCounter = 0;\n\t\t\tconst patternFloat = /[\\s]+([+-]?(?:\\d*)(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)/.source;\n\t\t\tconst patternVertex = new RegExp( 'vertex' + patternFloat + patternFloat + patternFloat, 'g' );\n\t\t\tconst patternNormal = new RegExp( 'normal' + patternFloat + patternFloat + patternFloat, 'g' );\n\t\t\tconst vertices = [];\n\t\t\tconst normals = [];\n\t\t\tconst normal = new THREE.Vector3();\n\t\t\tlet result;\n\t\t\tlet groupCount = 0;\n\t\t\tlet startVertex = 0;\n\t\t\tlet endVertex = 0;\n\n\t\t\twhile ( ( result = patternSolid.exec( data ) ) !== null ) {\n\n\t\t\t\tstartVertex = endVertex;\n\t\t\t\tconst solid = result[ 0 ];\n\n\t\t\t\twhile ( ( result = patternFace.exec( solid ) ) !== null ) {\n\n\t\t\t\t\tlet vertexCountPerFace = 0;\n\t\t\t\t\tlet normalCountPerFace = 0;\n\t\t\t\t\tconst text = result[ 0 ];\n\n\t\t\t\t\twhile ( ( result = patternNormal.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tnormal.x = parseFloat( result[ 1 ] );\n\t\t\t\t\t\tnormal.y = parseFloat( result[ 2 ] );\n\t\t\t\t\t\tnormal.z = parseFloat( result[ 3 ] );\n\t\t\t\t\t\tnormalCountPerFace ++;\n\n\t\t\t\t\t}\n\n\t\t\t\t\twhile ( ( result = patternVertex.exec( text ) ) !== null ) {\n\n\t\t\t\t\t\tvertices.push( parseFloat( result[ 1 ] ), parseFloat( result[ 2 ] ), parseFloat( result[ 3 ] ) );\n\t\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\t\t\t\t\t\tvertexCountPerFace ++;\n\t\t\t\t\t\tendVertex ++;\n\n\t\t\t\t\t} // every face have to own ONE valid normal\n\n\n\t\t\t\t\tif ( normalCountPerFace !== 1 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the normal of face number ' + faceCounter );\n\n\t\t\t\t\t} // each face have to own THREE valid vertices\n\n\n\t\t\t\t\tif ( vertexCountPerFace !== 3 ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.STLLoader: Something isn\\'t right with the vertices of face number ' + faceCounter );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfaceCounter ++;\n\n\t\t\t\t}\n\n\t\t\t\tconst start = startVertex;\n\t\t\t\tconst count = endVertex - startVertex;\n\t\t\t\tgeometry.addGroup( start, count, groupCount );\n\t\t\t\tgroupCount ++;\n\n\t\t\t}\n\n\t\t\tgeometry.setAttribute( 'position', new THREE.Float32BufferAttribute( vertices, 3 ) );\n\t\t\tgeometry.setAttribute( 'normal', new THREE.Float32BufferAttribute( normals, 3 ) );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t\tfunction ensureString( buffer ) {\n\n\t\t\tif ( typeof buffer !== 'string' ) {\n\n\t\t\t\treturn THREE.LoaderUtils.decodeText( new Uint8Array( buffer ) );\n\n\t\t\t}\n\n\t\t\treturn buffer;\n\n\t\t}\n\n\t\tfunction ensureBinary( buffer ) {\n\n\t\t\tif ( typeof buffer === 'string' ) {\n\n\t\t\t\tconst array_buffer = new Uint8Array( buffer.length );\n\n\t\t\t\tfor ( let i = 0; i < buffer.length; i ++ ) {\n\n\t\t\t\t\tarray_buffer[ i ] = buffer.charCodeAt( i ) & 0xff; // implicitly assumes little-endian\n\n\t\t\t\t}\n\n\t\t\t\treturn array_buffer.buffer || array_buffer;\n\n\t\t\t} else {\n\n\t\t\t\treturn buffer;\n\n\t\t\t}\n\n\t\t} // start\n\n\n\t\tconst binData = ensureBinary( data );\n\t\treturn isBinary( binData ) ? parseBinary( binData ) : parseASCII( ensureString( data ) );\n\n\t}\n\n}\n\n//THREE.STLLoader = STLLoader;","import FileManager from \"../fileManager\";\r\nimport * as THREE from \"three\";\r\n\r\nimport { SVGLoader } from \"three/examples/jsm/loaders/SVGLoader\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\nimport { STLLoader } from \"../../_vendor/ThreeJS/STLLoader\";\r\n\r\nimport api from \"@config/api.js\";\r\n\r\nfunction loadTexture(url) {\r\n  const loader = new THREE.TextureLoader();\r\n  return loader.load(url);\r\n}\r\n\r\nfunction loadSVG(url, image) {\r\n  return new Promise((resolve, reject) => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = image.width;\r\n    canvas.height = image.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n\r\n    const img = document.createElement(\"img\");\r\n    img.setAttribute(\"src\", url);\r\n\r\n    img.onload = function () {\r\n      ctx.drawImage(img, 0, 0);\r\n\r\n      var texture = new THREE.Texture(canvas);\r\n      resolve(texture);\r\n    };\r\n  });\r\n}\r\n\r\nfunction loadThreeD(url, loader) {\r\n  return new Promise((resolve, reject) => {\r\n    //const loader = new OBJLoader();\r\n    loader.load(url, resolve);\r\n  });\r\n}\r\n\r\nfunction convertStepToStl(text) {\r\n  return new Promise((resolve, reject) => {\r\n    fetch(api.post.convertStep, {\r\n      method: \"POST\",\r\n      body: text,\r\n    })\r\n      .then((data) => {\r\n        return data.text();\r\n      })\r\n      .then((text) => {\r\n        resolve(text);\r\n      });\r\n  });\r\n}\r\n\r\nasync function renderRasterImages(files) {\r\n  let promises = files.map((file) => {\r\n    return FileManager.readFile(file, FileManager.Types.DATAURL);\r\n  });\r\n\r\n  let values = await Promise.all(promises);\r\n  let meshes = [];\r\n\r\n  for (const val of values) {\r\n    const texture = loadTexture(val.data);\r\n\r\n    const img = await FileManager.file2img(val.file);\r\n\r\n    const materialTexture = new THREE.MeshBasicMaterial({\r\n      map: texture,\r\n      color: 0xffffff,\r\n    });\r\n    const materialBack = new THREE.MeshBasicMaterial({\r\n      color: 0x000000,\r\n    });\r\n\r\n    const geometry = new THREE.BoxGeometry(img.width, img.height, 1);\r\n\r\n    const materials = [\r\n      materialBack,\r\n      materialBack,\r\n      materialBack,\r\n      materialBack,\r\n      materialTexture,\r\n      materialBack,\r\n    ];\r\n    const mesh = new THREE.Mesh(geometry, materials);\r\n    mesh.applyMatrix4(new THREE.Matrix4().makeRotationX(-Math.PI / 2));\r\n    mesh.userData = {\r\n      id: val.file.id,\r\n      type: \"img\",\r\n    };\r\n\r\n    meshes.push(mesh);\r\n  }\r\n\r\n  return meshes;\r\n}\r\n\r\nasync function renderVectorImages(files) {\r\n  /*let promises = files.map(file => {\r\n    return FileManager.readFile(file, FileManager.Types.DATAURL);\r\n  });\r\n\r\n  let values = await Promise.all(promises);\r\n  let meshes = [];\r\n\r\n  for(const val of values){\r\n    const svg = await loadSVG(val.data);\r\n\r\n    console.log(svg);\r\n\r\n    const paths = svg.paths;\r\n    const geometries = [];\r\n\t\tconst group = new THREE.Object3D()\r\n    const material = new THREE.MeshBasicMaterial( {\r\n      color: 0x000000\r\n    } );\r\n\r\n\t\tfor ( let i = 0; i < paths.length; i ++ ) {\r\n\r\n\t\t\tconst path = paths[ i ];\r\n\r\n\t\t\tconst shapes = SVGLoader.createShapes( path );\r\n\r\n\t\t\tfor ( let j = 0; j < shapes.length; j++ ) {\r\n\r\n\t\t\t\tconst shape = shapes[ j ];\r\n\t\t\t\tconst geometry = new THREE.ShapeGeometry( shape );\r\n\t\t\t\tconst mesh = new THREE.Mesh( geometry, material );\r\n\t\t\t\tgroup.add( mesh );\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n    group.applyMatrix4( new THREE.Matrix4().makeRotationX( -Math.PI / 2 ) );\r\n    group.applyMatrix4( new THREE.Matrix4().makeRotationY( Math.PI ) );\r\n    group.userData = {\r\n      id: val.file.id,\r\n      type: \"svg\"\r\n    };\r\n\r\n\t\tmeshes.push(group);\r\n\r\n  }\r\n\r\n  return meshes;*/\r\n\r\n  let promises = files.map((file) => {\r\n    return FileManager.readFile(file, FileManager.Types.DATAURL);\r\n  });\r\n\r\n  let values = await Promise.all(promises);\r\n  let meshes = [];\r\n\r\n  for (const val of values) {\r\n    const img = await FileManager.file2img(val.file);\r\n    const texture = await loadSVG(val.data, img);\r\n\r\n    const materialTexture = new THREE.MeshBasicMaterial({\r\n      map: texture,\r\n      color: 0xffffff,\r\n    });\r\n    const materialBack = new THREE.MeshBasicMaterial({\r\n      color: 0x000000,\r\n    });\r\n\r\n    const geometry = new THREE.BoxGeometry(img.width, img.height, 1);\r\n\r\n    const materials = [\r\n      materialBack,\r\n      materialBack,\r\n      materialBack,\r\n      materialBack,\r\n      materialTexture,\r\n      materialBack,\r\n    ];\r\n    const mesh = new THREE.Mesh(geometry, materials);\r\n    mesh.applyMatrix4(new THREE.Matrix4().makeRotationX(-Math.PI / 2));\r\n    mesh.userData = {\r\n      id: val.file.id,\r\n      type: \"img\",\r\n    };\r\n\r\n    meshes.push(mesh);\r\n  }\r\n\r\n  return meshes;\r\n}\r\n\r\nasync function renderThreeDObjects(files) {\r\n  let promises = files.map((file) => {\r\n    return FileManager.readFile(file, FileManager.Types.DATAURL);\r\n  });\r\n\r\n  let values = await Promise.all(promises);\r\n  let meshes = [];\r\n\r\n  const material = new THREE.MeshNormalMaterial({\r\n    side: THREE.DoubleSide,\r\n  });\r\n\r\n  for (const val of values) {\r\n    let loader = null;\r\n    if (val.file.ext() == \"obj\") loader = new OBJLoader();\r\n    else if (val.file.ext() == \"stl\") loader = new STLLoader();\r\n\r\n    const object3D = await loadThreeD(val.data, loader);\r\n    let mesh = null;\r\n    if (object3D instanceof THREE.Group) {\r\n      mesh = object3D.children[0];\r\n      mesh.material = material;\r\n    } else if (object3D instanceof THREE.BufferGeometry) {\r\n      mesh = new THREE.Mesh(object3D, material);\r\n    }\r\n\r\n    mesh.applyMatrix4(new THREE.Matrix4().makeRotationX(-Math.PI / 2));\r\n    mesh.geometry.center();\r\n    mesh.userData = {\r\n      id: val.file.id,\r\n      type: \"obj\",\r\n    };\r\n    meshes.push(mesh);\r\n  }\r\n\r\n  return meshes;\r\n}\r\n\r\nasync function renderStepObjects(files) {\r\n  let promises = files.map((file) => {\r\n    return FileManager.readFile(file, FileManager.Types.TEXT);\r\n  });\r\n\r\n  let values = await Promise.all(promises);\r\n  let meshes = [];\r\n\r\n  const material = new THREE.MeshNormalMaterial();\r\n\r\n  for (const val of values) {\r\n    const stlData = await convertStepToStl(val.data);\r\n    const loader = new STLLoader();\r\n\r\n    const object3D = loader.parse(stlData);\r\n\r\n    let mesh = null;\r\n    if (object3D instanceof THREE.Group) {\r\n      mesh = object3D.children[0];\r\n      mesh.material = material;\r\n    } else if (object3D instanceof THREE.BufferGeometry) {\r\n      mesh = new THREE.Mesh(object3D, material);\r\n    }\r\n\r\n    mesh.applyMatrix4(new THREE.Matrix4().makeRotationX(-Math.PI / 2));\r\n    mesh.geometry.center();\r\n    mesh.userData = {\r\n      id: val.file.id,\r\n      type: \"obj\",\r\n    };\r\n\r\n    meshes.push(mesh);\r\n  }\r\n\r\n  return meshes;\r\n}\r\n\r\nconst RenderManager = {\r\n  async render(files) {\r\n    let raster_images = await renderRasterImages(\r\n      files.filter(\r\n        (file) =>\r\n          file.ext() == \"jpg\" || file.ext() == \"png\" || file.ext() == \"bmp\"\r\n      )\r\n    );\r\n\r\n    let vector_images = await renderVectorImages(\r\n      files.filter((file) => file.ext() == \"svg\")\r\n    );\r\n\r\n    let threeD_objects = await renderThreeDObjects(\r\n      files.filter((file) => file.ext() == \"stl\" || file.ext() == \"obj\")\r\n    );\r\n\r\n    let step_objects = await renderStepObjects(\r\n      files.filter((file) => file.ext() == \"step\")\r\n    );\r\n\r\n    return [...threeD_objects, ...step_objects];\r\n  },\r\n};\r\n\r\nexport default RenderManager;\r\n","import \"./style.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport * as THREE from \"three\";\r\n\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\n\r\nimport RenderManager from \"../../../managers/renderManager\";\r\n\r\nconst getDimension = (object, originFace) => {\r\n  const screenWidth = window.innerWidth;\r\n\r\n  if (screenWidth >= 1200) {\r\n    return {\r\n      width: 545,\r\n      height: 351,\r\n    };\r\n  }\r\n\r\n  if (screenWidth >= 992) {\r\n    return {\r\n      width: 375,\r\n      height: 351,\r\n    };\r\n  }\r\n\r\n  return {\r\n    width: 225,\r\n    height: 206,\r\n  };\r\n};\r\n\r\nfunction getFace(geometry, originFace) {\r\n  const face = { vertices: [], normal: null };\r\n\r\n  const vertices = geometry.getAttribute(\"position\").array;\r\n  const { a, b, c, normal } = originFace;\r\n\r\n  face.vertices.push({\r\n    x: vertices[a * 3],\r\n    y: vertices[a * 3 + 1],\r\n    z: vertices[a * 3 + 2],\r\n  });\r\n\r\n  face.vertices.push({\r\n    x: vertices[b * 3],\r\n    y: vertices[b * 3 + 1],\r\n    z: vertices[b * 3 + 2],\r\n  });\r\n\r\n  face.vertices.push({\r\n    x: vertices[c * 3],\r\n    y: vertices[c * 3 + 1],\r\n    z: vertices[c * 3 + 2],\r\n  });\r\n\r\n  face.normal = normal;\r\n\r\n  return face;\r\n}\r\n\r\nfunction getAllFaces(geometry) {\r\n  const faces = [];\r\n\r\n  const vertices = geometry.getAttribute(\"position\").array;\r\n  const normals = geometry.getAttribute(\"normal\").array;\r\n\r\n  for (let i = 0; i < vertices.length; i += 9) {\r\n    const face = { vertices: [], normal: null };\r\n    for (let j = 0; j < 9; j += 3) {\r\n      face.vertices.push({\r\n        x: vertices[i + j],\r\n        y: vertices[i + j + 1],\r\n        z: vertices[i + j + 2],\r\n      });\r\n    }\r\n\r\n    face.normal = new THREE.Vector3(normals[i], normals[i + 1], normals[i + 2]);\r\n\r\n    faces.push(face);\r\n  }\r\n\r\n  return faces;\r\n}\r\n\r\nfunction compareFaces(f1, f2, minVerticesNeed = 3) {\r\n  let countOfEqualsVertex = 0;\r\n\r\n  for (let i = 0; i < f1.vertices.length; i++) {\r\n    for (let j = 0; j < f2.vertices.length; j++) {\r\n      if (\r\n        f1.vertices[i].x === f2.vertices[j].x &&\r\n        f1.vertices[i].y === f2.vertices[j].y &&\r\n        f1.vertices[i].z === f2.vertices[j].z\r\n      )\r\n        countOfEqualsVertex++;\r\n\r\n      if (countOfEqualsVertex === minVerticesNeed) return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction makePlane(face) {\r\n  const A = new THREE.Vector3(\r\n    face.vertices[0].x,\r\n    face.vertices[0].y,\r\n    face.vertices[0].z\r\n  );\r\n\r\n  const B = new THREE.Vector3(\r\n    face.vertices[1].x,\r\n    face.vertices[1].y,\r\n    face.vertices[1].z\r\n  );\r\n\r\n  const C = new THREE.Vector3(\r\n    face.vertices[2].x,\r\n    face.vertices[2].y,\r\n    face.vertices[2].z\r\n  );\r\n\r\n  return new THREE.Plane().setFromCoplanarPoints(A, B, C);\r\n}\r\n\r\nfunction removeOriginFace(faces, originFace) {\r\n  return faces.filter((face) => {\r\n    return !compareFaces(face, originFace);\r\n  });\r\n}\r\n\r\nfunction filterByNormal(faces, normal) {\r\n  return faces.filter((face) => {\r\n    // filter by normal, must have same normal vector\r\n    return face.normal.dot(normal) == 1;\r\n  });\r\n}\r\n\r\nfunction filterByPlane(faces, plane) {\r\n  return faces.filter((face) => {\r\n    // filter by plane, must be on the same plane\r\n    const point = new THREE.Vector3(\r\n      face.vertices[0].x,\r\n      face.vertices[0].y,\r\n      face.vertices[0].z\r\n    );\r\n    return plane.distanceToPoint(point) == 0;\r\n  });\r\n}\r\n\r\nfunction filterByNeighbor(faces, faceOrigin) {\r\n  let nieghborFaces = [faceOrigin];\r\n  let face = null;\r\n  let needToPush = [];\r\n  let notNeedToPush = [];\r\n\r\n  while (true) {\r\n    while ((face = faces.shift())) {\r\n      const isNeighbor = nieghborFaces.some((nieghborFace) => {\r\n        return compareFaces(nieghborFace, face, 2);\r\n      });\r\n\r\n      if (isNeighbor) needToPush.push(face);\r\n      else notNeedToPush.push(face);\r\n    }\r\n\r\n    if (needToPush.length === 0) return nieghborFaces;\r\n\r\n    nieghborFaces = nieghborFaces.concat(needToPush);\r\n    faces = notNeedToPush;\r\n    notNeedToPush = [];\r\n    needToPush = [];\r\n  }\r\n}\r\n\r\nfunction findNeighborFaces(object, originFace) {\r\n  const geometry = object.geometry.toNonIndexed();\r\n  const face = getFace(geometry, originFace);\r\n  let faces = getAllFaces(geometry);\r\n  // console.log(\"All\", faces, face);\r\n  faces = removeOriginFace(faces, face);\r\n  // console.log(\"Remove origin\", faces, faces.length);\r\n  faces = filterByNormal(faces, originFace.normal);\r\n  // console.log(\"Normal filter\", faces, faces.length);\r\n  faces = filterByPlane(faces, makePlane(face));\r\n  // console.log(\"Plane filter\", faces, faces.length);\r\n  faces = filterByNeighbor(faces, face);\r\n  // console.log(\"Result\", faces, faces.length);\r\n  return faces;\r\n}\r\n\r\nfunction makeBufferGeometry(faces) {\r\n  const geometry = new THREE.BufferGeometry();\r\n  const vertices = new Float32Array(faces.length * 9);\r\n  const normals = new Float32Array(faces.length * 9);\r\n  const color = new Float32Array(faces.length * 9);\r\n\r\n  let index = 0;\r\n  faces.forEach((face) => {\r\n    face.vertices.forEach((vertex) => {\r\n      vertices[index++] = vertex.x;\r\n      vertices[index++] = vertex.y;\r\n      vertices[index++] = vertex.z;\r\n    });\r\n  });\r\n\r\n  index = 0;\r\n  faces.forEach((face) => {\r\n    for (let i = 0; i < 3; i++) {\r\n      normals[index++] = face.normal.x;\r\n      normals[index++] = face.normal.y;\r\n      normals[index++] = face.normal.z;\r\n    }\r\n  });\r\n\r\n  index = 0;\r\n  faces.forEach(() => {\r\n    for (let i = 0; i < 3; i++) {\r\n      color[index++] = 255;\r\n      color[index++] = 0;\r\n      color[index++] = 0;\r\n    }\r\n  });\r\n\r\n  geometry.setAttribute(\"position\", new THREE.BufferAttribute(vertices, 3));\r\n  geometry.setAttribute(\"normal\", new THREE.BufferAttribute(normals, 3));\r\n  geometry.setAttribute(\"color\", new THREE.BufferAttribute(color, 3));\r\n  return geometry;\r\n}\r\n\r\nfunction makeMesh(geometry, property_name) {\r\n  const material = new THREE.MeshBasicMaterial({\r\n    color: 0xff0000,\r\n    vertexColors: THREE.VertexColors,\r\n  });\r\n  const mesh = new THREE.Mesh(geometry, material);\r\n  mesh.applyMatrix4(new THREE.Matrix4().makeRotationX(-Math.PI / 2));\r\n  mesh.userData = {\r\n    type: \"select\",\r\n    property_name: property_name,\r\n  };\r\n  return mesh;\r\n}\r\n\r\nconst renderer = new THREE.WebGLRenderer({\r\n  powerPreference: \"high-performance\",\r\n});\r\n\r\nclass ThreeRender extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderThree = this.renderThree.bind(this);\r\n    this.onWindowResize = this.onWindowResize.bind(this);\r\n    this.getCanvasRelativePosition = this.getCanvasRelativePosition.bind(this);\r\n    this.addSelectedFace = this.addSelectedFace.bind(this);\r\n\r\n    this.cameraPersp = null;\r\n    this.scene = null;\r\n    // renderer = null;\r\n    this.orbit = null;\r\n    this.raycaster = null;\r\n    this.group = null;\r\n\r\n    this.viewRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const dimension = getDimension();\r\n\r\n    // renderer = new THREE.WebGLRenderer({\r\n    //   powerPreference: \"high-performance\",\r\n    // });\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setSize(dimension.width, dimension.height);\r\n    this.viewRef.current.appendChild(renderer.domElement);\r\n\r\n    const aspect = dimension.width / dimension.height;\r\n\r\n    this.cameraPersp = new THREE.PerspectiveCamera(50, aspect, 0.01, 30000);\r\n\r\n    this.cameraPersp.position.set(1000, 500, 1000);\r\n    this.cameraPersp.lookAt(0, 200, 0);\r\n\r\n    this.scene = new THREE.Scene();\r\n    this.scene.background = new THREE.Color(0xffffff);\r\n    const gridHelper = new THREE.GridHelper(10000, 100, 0x888888, 0x444444);\r\n    gridHelper.userData.className = \"GridHelper\";\r\n    this.scene.add(gridHelper);\r\n\r\n    this.orbit = new OrbitControls(this.cameraPersp, renderer.domElement);\r\n    this.orbit.update();\r\n    this.orbit.addEventListener(\"change\", this.renderThree);\r\n\r\n    this.raycaster = new THREE.Raycaster();\r\n    var inst = this;\r\n    renderer.domElement.addEventListener(\r\n      \"click\",\r\n      function (event) {\r\n        if (inst.props.isPickModeEnable) {\r\n          const mouse = new THREE.Vector2();\r\n          const pos = this.getCanvasRelativePosition(event);\r\n          mouse.x = (pos.x / renderer.domElement.clientWidth) * 2 - 1;\r\n          mouse.y = -(pos.y / renderer.domElement.clientHeight) * 2 + 1;\r\n          this.raycaster.setFromCamera(mouse, this.cameraPersp);\r\n\r\n          const objects = this.scene.children;\r\n          objects\r\n            .filter((object) => {\r\n              let className = object.userData.className;\r\n              let type = object.userData.type;\r\n              if (className === \"GridHelper\") return false;\r\n              if (type === \"select\") return false;\r\n              return true;\r\n            })\r\n            .some((object) => {\r\n              const intersects = this.raycaster.intersectObject(object, true);\r\n              if (intersects.length > 0) {\r\n                const selectedObject = intersects[0].object;\r\n                const selectedFace = intersects[0].face;\r\n\r\n                const faces = findNeighborFaces(selectedObject, selectedFace);\r\n                const bufferGeometry = makeBufferGeometry(faces);\r\n                this.props.onPick(bufferGeometry, this.props.pickPropertyName);\r\n              }\r\n            });\r\n        }\r\n      }.bind(this)\r\n    );\r\n\r\n    window.addEventListener(\"resize\", this.onWindowResize);\r\n\r\n    const file = this.props.file;\r\n    RenderManager.render([file]).then((meshes) => {\r\n      this.scene.add(meshes[0]);\r\n\r\n      this.addSelectedFace();\r\n      this.renderThree();\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log(\"unmount\");\r\n    //free RAM memory\r\n    this.scene.children.forEach((object) => {\r\n      console.log(object);\r\n      object.geometry.dispose();\r\n      object.material.dispose();\r\n    });\r\n  }\r\n\r\n  getCanvasRelativePosition(event) {\r\n    const rect = renderer.domElement.getBoundingClientRect();\r\n    return {\r\n      x:\r\n        ((event.clientX - rect.left) * renderer.domElement.clientWidth) /\r\n        rect.width,\r\n      y:\r\n        ((event.clientY - rect.top) * renderer.domElement.clientHeight) /\r\n        rect.height,\r\n    };\r\n  }\r\n\r\n  onWindowResize() {\r\n    const dimension = getDimension();\r\n\r\n    const aspect = dimension.width / dimension.height;\r\n\r\n    this.cameraPersp.aspect = aspect;\r\n    this.cameraPersp.updateProjectionMatrix();\r\n\r\n    renderer.setSize(dimension.width, dimension.height);\r\n\r\n    this.renderThree();\r\n  }\r\n\r\n  renderThree() {\r\n    renderer.render(this.scene, this.cameraPersp);\r\n  }\r\n\r\n  addSelectedFace() {\r\n    [...this.scene.children].forEach((object) => {\r\n      let type = object.userData.type;\r\n      if (type === \"select\") {\r\n        object.geometry.dispose();\r\n        object.material.dispose();\r\n        this.scene.remove(object);\r\n      }\r\n    });\r\n\r\n    this.props.faceInputFields.forEach((field) => {\r\n      if (field.value) {\r\n        const mesh = makeMesh(field.value, field.fieldName);\r\n        this.scene.add(mesh);\r\n        this.renderThree();\r\n      }\r\n    });\r\n    this.renderThree();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.addSelectedFace();\r\n  }\r\n\r\n  render() {\r\n    return <div ref={this.viewRef}></div>;\r\n  }\r\n}\r\n\r\nexport default ThreeRender;\r\n","import \"./MillingActionModal.css\";\r\n\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nimport ThreeRender from \"./ThreeJS\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nimport { getActionTypes } from \"@managers/actionManager\";\r\nimport { getTools } from \"@managers/toolManager\";\r\n\r\nfunction MillingActionModal({ action, file, onSaveAction }) {\r\n  const [isPickModeEnable, pickModeEnable] = useState(false);\r\n  const [pickPropertyName, setPickPropertyName] = useState(\"\");\r\n\r\n  const [actionTypeSelected, setActionTypeSelected] = useState(action.typeId);\r\n  const [actionTypes, setActionTypes] = useState([]);\r\n  const [actionTitle, setActionTitle] = useState(action.title);\r\n\r\n  const [fields, setFields] = useState([...action.fields]);\r\n\r\n  useEffect(() => {\r\n    getActionTypes().then((actionTypes) => {\r\n      setActionTypes(actionTypes);\r\n    });\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    onSaveAction(action);\r\n  };\r\n\r\n  const onActionTitleChange = (value) => {\r\n    action.title = value;\r\n    setActionTitle(value);\r\n  };\r\n\r\n  const tooglePickMode = function (propertyName) {\r\n    if (!isPickModeEnable) {\r\n      action.fields.find((field) => field.inputName === propertyName).value =\r\n        null;\r\n      setPickPropertyName(propertyName);\r\n      pickModeEnable(true);\r\n    }\r\n  };\r\n\r\n  const onPick = function (faces, propertyName) {\r\n    console.log(\"onPick\", faces, propertyName);\r\n    let field = action.fields.find((field) => field.inputName === propertyName);\r\n    field.value = faces;\r\n    setPickPropertyName(\"\");\r\n    pickModeEnable(false);\r\n  };\r\n\r\n  const onActionTypeSelectedChange = function (e) {\r\n    if (e.target.value) {\r\n      let type = actionTypes.find((type) => type.id === e.target.value);\r\n\r\n      action.typeId = type.id;\r\n      action.fields = type.fields.map((field) => Object.assign({}, field));\r\n    } else {\r\n      action.typeId = null;\r\n      action.fields = [];\r\n    }\r\n\r\n    setActionTypeSelected(e.target.value);\r\n    pickModeEnable(false);\r\n    setPickPropertyName(\"\");\r\n    setFields([...action.fields]);\r\n  };\r\n\r\n  const getFieldsByInputType = function (inputType) {\r\n    return fields.filter((field) => field.inputType === inputType);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        show={action.isEdit}\r\n        onHide={handleClose}\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        size={\"xl\"}\r\n      >\r\n        <Modal.Header>\r\n          <Modal.Title>Action Settings</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div class=\"row g-3 justify-content-between\">\r\n            <div class=\"col-6\">\r\n              <ThreeRender\r\n                file={file}\r\n                isPickModeEnable={isPickModeEnable}\r\n                pickPropertyName={pickPropertyName}\r\n                onPick={onPick}\r\n                faceInputFields={getFieldsByInputType(\"facePicker\")}\r\n              />\r\n            </div>\r\n\r\n            <div class=\"col-6\">\r\n              <div class=\"input-group mb-2\">\r\n                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">\r\n                  Title\r\n                </span>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Action title\"\r\n                  value={actionTitle}\r\n                  onChange={(e) => onActionTitleChange(e.target.value)}\r\n                />\r\n              </div>\r\n              <ToolPicker action={action} />\r\n              <select\r\n                class=\"form-select\"\r\n                aria-label=\"Default select example\"\r\n                onChange={onActionTypeSelectedChange}\r\n              >\r\n                <option selected={!actionTypeSelected} value=\"\">\r\n                  Choose Action type\r\n                </option>\r\n                {actionTypes.map((action, i) => {\r\n                  return (\r\n                    <option\r\n                      key={action.id}\r\n                      selected={actionTypeSelected === action.id}\r\n                      value={action.id}\r\n                    >\r\n                      {action.title}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n              <ul class=\"list-group list-group-flush mt-2\">\r\n                <InputList action={action} tooglePickMode={tooglePickMode} />\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={handleClose}>\r\n            Save\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MillingActionModal;\r\n\r\nfunction InputList({ action, tooglePickMode }) {\r\n  if (action.fields.length === 0) return <li class=\"list-group-item\">Empty</li>;\r\n\r\n  return action.fields.map((field) => {\r\n    if (field.inputType === \"face\")\r\n      return <FacePicker field={field} tooglePickMode={tooglePickMode} />;\r\n    if (field.inputType === \"number\") return <NumberInput field={field} />;\r\n    return <li class=\"list-group-item\">Err</li>;\r\n  });\r\n}\r\n\r\nfunction ToolPicker({ action }) {\r\n  const [tools, setTools] = useState([]);\r\n  const [toolSelected, setToolSelected] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getTools().then((tools) => {\r\n      setTools(tools);\r\n      setToolSelected(action.toolId);\r\n    });\r\n  }, []);\r\n\r\n  const onToolChange = function (e) {\r\n    action.toolId = e.target.value;\r\n    setToolSelected(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <select\r\n      class=\"form-select mb-2\"\r\n      id=\"inputGroupSelect01\"\r\n      onChange={onToolChange}\r\n    >\r\n      <option selected={!toolSelected}>Choose Tool</option>\r\n\r\n      {tools.map((tool, i) => {\r\n        return (\r\n          <option key={i} value={tool.id} selected={tool.id === toolSelected}>\r\n            {tool.title}\r\n          </option>\r\n        );\r\n      })}\r\n    </select>\r\n  );\r\n}\r\n\r\nfunction FacePicker({ field, tooglePickMode }) {\r\n  return (\r\n    <li class=\"list-group-item\">\r\n      <div class=\"input-group\">\r\n        <span class=\"input-group-text\">{field.label}</span>\r\n        <button\r\n          class=\"btn btn-outline-secondary\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            tooglePickMode(field.inputName);\r\n          }}\r\n        >\r\n          Pick face\r\n        </button>\r\n        <input\r\n          type=\"color\"\r\n          class=\"form-control form-control-color\"\r\n          id=\"exampleColorInput\"\r\n          value=\"#563d7c\"\r\n          title=\"Choose your color\"\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nfunction NumberInput({ field }) {\r\n  const [value, setValue] = useState(field);\r\n\r\n  useEffect(() => {\r\n    setValue(field.value);\r\n  });\r\n\r\n  return (\r\n    <li class=\"list-group-item\">\r\n      <div class=\"input-group mb-2\">\r\n        <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">\r\n          {field.label}\r\n        </span>\r\n        <input\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          placeholder={field.label}\r\n          value={value}\r\n          onChange={(e) => {\r\n            field.value = e.target.value;\r\n            setValue(e.target.value);\r\n          }}\r\n        />\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n","import FileInfo from \"@components/FileInfo/FileInfo\";\r\nimport FileMillingActions from \"@components/FileMillingActions/FileMillingActions\";\r\n\r\nexport default [\r\n  {\r\n    title: \"\",\r\n    id: \"millingActions\",\r\n    svg: (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"16\"\r\n        height=\"16\"\r\n        fill=\"currentColor\"\r\n        class=\"bi bi-box-arrow-right\"\r\n        viewBox=\"0 0 16 16\"\r\n      >\r\n        <path\r\n          fill-rule=\"evenodd\"\r\n          d=\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z\"\r\n        />\r\n        <path\r\n          fill-rule=\"evenodd\"\r\n          d=\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z\"\r\n        />\r\n      </svg>\r\n    ),\r\n    content: FileMillingActions,\r\n  },\r\n  {\r\n    title: \"\",\r\n    id: \"info\",\r\n    svg: (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"16\"\r\n        height=\"16\"\r\n        fill=\"currentColor\"\r\n        class=\"bi bi-info-circle\"\r\n        viewBox=\"0 0 16 16\"\r\n      >\r\n        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n        <path d=\"M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z\" />\r\n      </svg>\r\n    ),\r\n    content: FileInfo,\r\n  },\r\n];\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport React from \"react\";\r\n\r\nimport MillingActionModal from \"@modals/MillingActionModal/MillingActionModal\";\r\nimport { createAction } from \"@managers/actionManager\";\r\n\r\nimport { FileContext } from \"@context/file\";\r\n\r\nexport default function FileMillingActions(props) {\r\n  const { selectedFile } = useContext(FileContext);\r\n  const [actions, setActions] = useState([]);\r\n\r\n  console.log(selectedFile);\r\n\r\n  useEffect(() => {\r\n    setActions(selectedFile.millingActions);\r\n  });\r\n\r\n  const onAddClick = () => {\r\n    let newActions = [...actions, createAction()];\r\n    selectedFile.millingActions = newActions;\r\n    setActions([...newActions]);\r\n  };\r\n\r\n  const onEditClick = (action) => {\r\n    console.log(action);\r\n    let newActions = selectedFile.millingActions.map((_action) => {\r\n      if (_action.id === action.id) _action.isEdit = true;\r\n      return _action;\r\n    });\r\n    selectedFile.millingActions = newActions;\r\n    setActions([...newActions]);\r\n  };\r\n\r\n  const onDeleteClick = (action) => {\r\n    console.log(action);\r\n    let newActions = selectedFile.millingActions.filter(\r\n      (_action) => _action.id != action.id\r\n    );\r\n    selectedFile.millingActions = newActions;\r\n    setActions([...newActions]);\r\n  };\r\n\r\n  const onSaveAction = (action) => {\r\n    console.log(action);\r\n    let newActions = selectedFile.millingActions.map((_action) => {\r\n      _action.isEdit = false;\r\n      return _action;\r\n    });\r\n    selectedFile.millingActions = newActions;\r\n    setActions([...newActions]);\r\n  };\r\n\r\n  return (\r\n    <ul class=\"list-group list-group-flush\">\r\n      {actions.map((action) => {\r\n        return (\r\n          <React.Fragment key={action.id}>\r\n            <li class=\"list-group-item\">\r\n              {action.title}\r\n              <button onClick={() => onEditClick(action)}>edit</button>\r\n              <button onClick={() => onDeleteClick(action)}>delete</button>\r\n            </li>\r\n            <MillingActionModal\r\n              action={action}\r\n              onSaveAction={onSaveAction}\r\n              file={selectedFile}\r\n            />\r\n          </React.Fragment>\r\n        );\r\n      })}\r\n      <li class=\"list-group-item\" onClick={() => onAddClick()}>\r\n        +\r\n      </li>\r\n    </ul>\r\n  );\r\n}\r\n","export default function FileInfo(props) {\r\n  const selectedFile = props.selectedFile;\r\n\r\n  const formatBytes = (bytes) => {\r\n    if (bytes == 0) return \"0 Bytes\";\r\n    var k = 1024,\r\n      sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"],\r\n      i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + \" \" + sizes[i];\r\n  };\r\n\r\n  return (\r\n    <ul class=\"list-group list-group-flush\">\r\n      <li class=\"list-group-item\">Name: {selectedFile.name}</li>\r\n      <li class=\"list-group-item\">Size: {formatBytes(selectedFile.size)}</li>\r\n    </ul>\r\n  );\r\n}\r\n","import config from \"./config.js\";\r\nimport { useState } from \"react\";\r\nimport React from \"react\";\r\n\r\nexport default function FileSettings(props) {\r\n  const [settingId, setSettingId] = useState(config[0].id);\r\n  const selectedFile = props.selectedFile;\r\n\r\n  const onButtonClick = function (id) {\r\n    if (settingId === id) return;\r\n    setSettingId(id);\r\n  };\r\n\r\n  if (!selectedFile.id)\r\n    return (\r\n      <>\r\n        <div class=\"tab emptyExplorer\">\r\n          <div>\r\n            <p class=\"fw-light\">Select one of imported files first</p>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </>\r\n    );\r\n\r\n  return (\r\n    <>\r\n      <div class=\"fileInfo d-flex justify-content-around\">\r\n        <div\r\n          class=\"nav flex-column nav-pills\"\r\n          id=\"v-pills-tab\"\r\n          role=\"tablist\"\r\n          aria-orientation=\"vertical\"\r\n        >\r\n          {config.map((el, index) => {\r\n            let clases = [\"nav-link\"];\r\n            if (settingId === el.id) clases.push(\"active\");\r\n\r\n            return (\r\n              <button\r\n                class={clases.join(\" \")}\r\n                key={index}\r\n                data-bs-toggle=\"pill\"\r\n                data-bs-target=\"#v-pills-home\"\r\n                type=\"button\"\r\n                role=\"tab\"\r\n                aria-controls=\"v-pills-home\"\r\n                aria-selected=\"true\"\r\n                data-panel-id={el.id}\r\n                onClick={() => onButtonClick(el.id)}\r\n              >\r\n                {el.svg}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <div class=\"vertical_hr\"></div>\r\n\r\n        <div class=\"tab-content\" id=\"v-pills-tabContent\">\r\n          {config.map((el, index) => {\r\n            let clases = [\"tab-pane\", \"fade\"];\r\n            if (settingId === el.id) clases.push(\"show\", \"active\");\r\n            return (\r\n              <div\r\n                class={clases.join(\" \")}\r\n                key={index}\r\n                id={el.id}\r\n                role=\"tabpanel\"\r\n                aria-labelledby=\"v-pills-home-tab\"\r\n              >\r\n                {React.createElement(el.content, {\r\n                  selectedFile: selectedFile,\r\n                })}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import \"./FileExplorer.css\";\r\n\r\nimport { useContext } from \"react\";\r\n\r\nimport { FileContext } from \"@context/file\";\r\n\r\nimport FileSettings from \"@components/FileSettings/FileSettings.js\";\r\n\r\nexport default function FileExplorer() {\r\n  const { files, setFiles, selectedFile, setSelectedFile } =\r\n    useContext(FileContext);\r\n\r\n  const deleteFile = (fileId) => {\r\n    setFiles(\r\n      files.filter((file) => {\r\n        return file.id !== fileId;\r\n      })\r\n    );\r\n  };\r\n\r\n  const selectFile = (fileId) => {\r\n    setSelectedFile(\r\n      files.find((file) => {\r\n        return file.id === fileId;\r\n      })\r\n    );\r\n  };\r\n\r\n  if (files.length == 0) {\r\n    return (\r\n      <>\r\n        <div class=\"tab emptyExplorer\">\r\n          <div>\r\n            <p class=\"fw-light\">Explorer is empty</p>\r\n            <p class=\"fw-light\">Drag an drop files to see them here</p>\r\n          </div>\r\n        </div>\r\n        <hr />\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div class=\"tab\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                class=\"bi bi-file-earmark\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\" />\r\n              </svg>\r\n            </th>\r\n            <th>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                class=\"bi bi-eye-slash-fill\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M10.79 12.912l-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.027 7.027 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.088z\" />\r\n                <path d=\"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708l-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6l-12-12 .708-.708 12 12-.708.707z\" />\r\n              </svg>\r\n            </th>\r\n            <th>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"16\"\r\n                height=\"16\"\r\n                fill=\"currentColor\"\r\n                class=\"bi bi-gear-wide-connected\"\r\n                viewBox=\"0 0 16 16\"\r\n              >\r\n                <path d=\"M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646l.087.065-.087-.065z\" />\r\n              </svg>\r\n            </th>\r\n            <th></th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {files.map((file, index) => {\r\n            let classes = [];\r\n            if (selectedFile.id === file.id) classes.push(\"table-primary\");\r\n            return (\r\n              <tr\r\n                class={classes.join(\" \")}\r\n                key={index}\r\n                onClick={() => {\r\n                  selectFile(file.id);\r\n                }}\r\n              >\r\n                <td>{file.name}</td>\r\n                <td>\r\n                  <input type=\"checkbox\" name=\"\" value=\"\" />\r\n                </td>\r\n                <td>\r\n                  <input type=\"checkbox\" name=\"\" value=\"\" />\r\n                </td>\r\n                <td>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-gear-fill\"\r\n                    viewBox=\"0 0 16 16\"\r\n                  >\r\n                    <path d=\"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z\" />\r\n                  </svg>\r\n                </td>\r\n                <td>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    fill=\"currentColor\"\r\n                    class=\"bi bi-trash-fill\"\r\n                    viewBox=\"0 0 16 16\"\r\n                    onClick={() => deleteFile(file.id)}\r\n                  >\r\n                    <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\" />\r\n                  </svg>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <hr />\r\n      <FileSettings selectedFile={selectedFile} />\r\n      <hr />\r\n    </div>\r\n  );\r\n}\r\n","import \"./JogControl.css\";\r\n\r\nimport { useState } from \"react\";\r\n\r\nexport default function JogControl(props) {\r\n  const [feed, setFeed] = useState(0);\r\n  const [step, setStep] = useState(0);\r\n  const [intensity, setIntensity] = useState(0);\r\n\r\n  const jogMove = (object) => {\r\n    const moveObject = {\r\n      x: object.x || 0,\r\n      y: object.y || 0,\r\n      z: object.z || 0,\r\n    };\r\n    console.log(moveObject);\r\n  };\r\n\r\n  const handleFeedChange = (e) => {\r\n    let data = e.target.value;\r\n    setFeed(Number.parseFloat(data));\r\n  };\r\n\r\n  const handleStepChange = (e) => {\r\n    console.log(e);\r\n    const data = e.target.value;\r\n    setStep(Number.parseFloat(data));\r\n  };\r\n\r\n  const handleIntensityChange = (e) => {\r\n    console.log(e);\r\n    const data = e.target.value;\r\n    setIntensity(Number.parseFloat(data));\r\n  };\r\n\r\n  return (\r\n    <div class=\"tab controls\">\r\n      <div\r\n        class=\"btn-group col-11 mx-auto\"\r\n        role=\"group\"\r\n        aria-label=\"Basic example\"\r\n      >\r\n        <button class=\"btn btn-primary btn-sm\" type=\"button\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-lock-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z\" />\r\n          </svg>\r\n          Unlock\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-primary\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-house-fill\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z\"\r\n            />\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z\"\r\n            />\r\n          </svg>\r\n          Home\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-primary\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-bullseye\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\r\n            <path d=\"M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10zm0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\" />\r\n            <path d=\"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8z\" />\r\n            <path d=\"M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\" />\r\n          </svg>\r\n          Origin\r\n        </button>\r\n      </div>\r\n\r\n      <div\r\n        class=\"btn-group col-8 mx-auto\"\r\n        role=\"group\"\r\n        aria-label=\"Basic outlined example\"\r\n      >\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              x: -1,\r\n              y: 1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-up-left\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M2 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1H3.707l10.147 10.146a.5.5 0 0 1-.708.708L3 3.707V8.5a.5.5 0 0 1-1 0v-6z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              y: 1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-up\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              x: 1,\r\n              y: 1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-up-right\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0v-6z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <div\r\n        class=\"btn-group col-8 mx-auto\"\r\n        role=\"group\"\r\n        aria-label=\"Basic outlined example\"\r\n      >\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              x: -1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-left\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-outline-primary btn-sm\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-power\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M7.5 1v7h1V1h-1z\" />\r\n            <path d=\"M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z\" />\r\n          </svg>\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              x: 1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-right\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <div\r\n        class=\"btn-group col-8 mx-auto\"\r\n        role=\"group\"\r\n        aria-label=\"Basic outlined example\"\r\n      >\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              x: -1,\r\n              y: -1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-down-left\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M2 13.5a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 0-1H3.707L13.854 2.854a.5.5 0 0 0-.708-.708L3 12.293V7.5a.5.5 0 0 0-1 0v6z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              y: -1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-down\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              x: 1,\r\n              y: -1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            class=\"bi bi-arrow-down-right\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fill-rule=\"evenodd\"\r\n              d=\"M14 13.5a.5.5 0 0 1-.5.5h-6a.5.5 0 0 1 0-1h4.793L2.146 2.854a.5.5 0 1 1 .708-.708L13 12.293V7.5a.5.5 0 0 1 1 0v6z\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <div\r\n        class=\"btn-group col-8 mx-auto\"\r\n        role=\"group\"\r\n        aria-label=\"Basic outlined example\"\r\n      >\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              z: -1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          Z-\r\n        </button>\r\n        <button\r\n          onClick={() => {\r\n            jogMove({\r\n              z: 1,\r\n            });\r\n          }}\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary btn-sm\"\r\n        >\r\n          Z+\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"row g-2 mx-auto\">\r\n        <div class=\"col-md\">\r\n          <div class=\"form-floating\">\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              step=\"1\"\r\n              class=\"form-control\"\r\n              id=\"floatingInputGrid\"\r\n              placeholder=\"f\"\r\n              value={feed}\r\n              onChange={handleFeedChange}\r\n            />\r\n            <label for=\"floatingInputGrid\">Feed</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md\">\r\n          <div class=\"form-floating\">\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              step=\"1\"\r\n              class=\"form-control\"\r\n              id=\"floatingInputGrid\"\r\n              placeholder=\"f\"\r\n              value={step}\r\n              onChange={handleStepChange}\r\n            />\r\n            <label for=\"floatingInputGrid\">Step</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md\">\r\n          <div class=\"form-floating\">\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              max=\"100\"\r\n              step=\"1\"\r\n              class=\"form-control\"\r\n              id=\"floatingInputGrid\"\r\n              placeholder=\"f\"\r\n              value={intensity}\r\n              onChange={handleIntensityChange}\r\n            />\r\n            <label for=\"floatingInputGrid\">Intensity</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./RightBar.css\";\r\n\r\nimport FileExplorer from \"../FileExplorer/FileExplorer.js\";\r\nimport JogControl from \"../JogControl/JogControl.js\";\r\n\r\nfunction RightBar() {\r\n  return (\r\n    <div class=\"rightBar\">\r\n      <FileExplorer />\r\n      <JogControl />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RightBar;\r\n","import \"./view.css\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport * as THREE from \"three\";\r\n\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport { TransformControls } from \"three/examples/jsm/controls/TransformControls\";\r\n\r\nimport { FileContext } from \"../../context/file\";\r\n\r\nimport RenderManager from \"@managers/renderManager\";\r\n\r\nclass ThreeRender extends Component {\r\n  static contextType = FileContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.renderThree = this.renderThree.bind(this);\r\n    this.onWindowResize = this.onWindowResize.bind(this);\r\n\r\n    this.cameraPersp = null;\r\n    this.currentCamera = null;\r\n    this.scene = null;\r\n    this.renderer = null;\r\n    this.control = null;\r\n    this.orbit = null;\r\n    this.raycaster = null;\r\n    this.group = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.renderer = new THREE.WebGLRenderer({\r\n      powerPreference: \"high-performance\",\r\n    });\r\n    this.renderer.setPixelRatio(window.devicePixelRatio);\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    document.body.appendChild(this.renderer.domElement);\r\n\r\n    const aspect = window.innerWidth / window.innerHeight;\r\n\r\n    this.cameraPersp = new THREE.PerspectiveCamera(50, aspect, 0.01, 30000);\r\n    this.currentCamera = this.cameraPersp;\r\n\r\n    this.currentCamera.position.set(1000, 500, 1000);\r\n    this.currentCamera.lookAt(0, 200, 0);\r\n\r\n    this.scene = new THREE.Scene();\r\n    this.scene.background = new THREE.Color(0xffffff);\r\n    const gridHelper = new THREE.GridHelper(10000, 100, 0x888888, 0x444444);\r\n    gridHelper.userData.className = \"GridHelper\";\r\n    this.scene.add(gridHelper);\r\n\r\n    this.orbit = new OrbitControls(\r\n      this.currentCamera,\r\n      this.renderer.domElement\r\n    );\r\n    this.orbit.update();\r\n    this.orbit.addEventListener(\"change\", this.renderThree);\r\n\r\n    this.control = new TransformControls(\r\n      this.currentCamera,\r\n      this.renderer.domElement\r\n    );\r\n    this.control.userData.className = \"TransformControls\";\r\n    this.control.addEventListener(\"change\", this.renderThree);\r\n\r\n    this.control.addEventListener(\r\n      \"dragging-changed\",\r\n      function (event) {\r\n        this.orbit.enabled = !event.value;\r\n      }.bind(this)\r\n    );\r\n\r\n    this.scene.add(this.control);\r\n\r\n    this.raycaster = new THREE.Raycaster();\r\n    this.renderer.domElement.addEventListener(\r\n      \"click\",\r\n      function (event) {\r\n        const mouse = new THREE.Vector2();\r\n        mouse.x =\r\n          (event.clientX / this.renderer.domElement.clientWidth) * 2 - 1;\r\n        mouse.y =\r\n          -(event.clientY / this.renderer.domElement.clientHeight) * 2 + 1;\r\n        this.raycaster.setFromCamera(mouse, this.currentCamera);\r\n\r\n        const objects = this.scene.children;\r\n        console.log(objects);\r\n        objects\r\n          .filter((object) => {\r\n            let className = object.userData.className;\r\n            if (className === \"GridHelper\" || className === \"TransformControls\")\r\n              return false;\r\n            return true;\r\n          })\r\n          .some((object) => {\r\n            const intersects = this.raycaster.intersectObject(object, true);\r\n            if (intersects.length > 0) {\r\n              const selectedObject = intersects[0].object;\r\n              if (\r\n                this.control.object === undefined ||\r\n                this.control.object !== selectedObject\r\n              ) {\r\n                this.control.attach(selectedObject);\r\n\r\n                const { files, setSelectedFile } = this.context;\r\n                const file = files.find((f) => {\r\n                  if (f.id === selectedObject.userData.id) return true;\r\n                  return false;\r\n                });\r\n                setSelectedFile(file);\r\n\r\n                this.renderThree();\r\n                return true;\r\n              }\r\n            }\r\n          });\r\n      }.bind(this)\r\n    );\r\n\r\n    window.addEventListener(\"resize\", this.onWindowResize);\r\n\r\n    window.addEventListener(\r\n      \"keydown\",\r\n      function (event) {\r\n        switch (event.keyCode) {\r\n          case 81: // Q\r\n            this.control.setSpace(\r\n              this.control.space === \"local\" ? \"world\" : \"local\"\r\n            );\r\n            break;\r\n\r\n          case 16: // Shift\r\n            this.control.setTranslationSnap(100);\r\n            this.control.setRotationSnap(THREE.MathUtils.degToRad(15));\r\n            this.control.setScaleSnap(0.25);\r\n            break;\r\n\r\n          case 87: // W\r\n            this.props.setEditTool(\"translate\");\r\n            break;\r\n\r\n          case 69: // E\r\n            this.props.setEditTool(\"rotate\");\r\n            break;\r\n\r\n          case 82: // R\r\n            this.props.setEditTool(\"scale\");\r\n            break;\r\n          case 187:\r\n          case 107: // +, =, num+\r\n            this.control.setSize(this.control.size + 0.1);\r\n            break;\r\n\r\n          case 189:\r\n          case 109: // -, _, num-\r\n            this.control.setSize(Math.max(this.control.size - 0.1, 0.1));\r\n            break;\r\n\r\n          case 88: // X\r\n            this.control.showX = !this.control.showX;\r\n            break;\r\n\r\n          case 89: // Y\r\n            this.control.showY = !this.control.showY;\r\n            break;\r\n\r\n          case 90: // Z\r\n            this.control.showZ = !this.control.showZ;\r\n            break;\r\n\r\n          case 32: // Spacebar\r\n            this.control.enabled = !this.control.enabled;\r\n            break;\r\n        }\r\n      }.bind(this)\r\n    );\r\n\r\n    window.addEventListener(\r\n      \"keyup\",\r\n      function (event) {\r\n        switch (event.keyCode) {\r\n          case 16: // Shift\r\n            this.control.setTranslationSnap(null);\r\n            this.control.setRotationSnap(null);\r\n            this.control.setScaleSnap(null);\r\n            break;\r\n        }\r\n      }.bind(this)\r\n    );\r\n\r\n    this.renderThree();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.log(\"unmount Main view\");\r\n    //free RAM memory\r\n    this.scene.children.forEach((object) => {\r\n      console.log(object);\r\n      object.geometry.dispose();\r\n      object.material.dispose();\r\n    });\r\n    this.renderer.dispose();\r\n  }\r\n\r\n  onWindowResize() {\r\n    const aspect = window.innerWidth / window.innerHeight;\r\n\r\n    this.cameraPersp.aspect = aspect;\r\n    this.cameraPersp.updateProjectionMatrix();\r\n\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    this.renderThree();\r\n  }\r\n\r\n  renderThree() {\r\n    this.renderer.render(this.scene, this.currentCamera);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    //setup tool\r\n    this.control.setMode(this.props.editTool);\r\n\r\n    //files\r\n    const { files, selectedFile } = this.context;\r\n\r\n    this.scene.children.forEach((object) => {\r\n      let className = object.userData.className;\r\n      if (className === \"GridHelper\" || className === \"TransformControls\")\r\n        return;\r\n      if (\r\n        !files.some((file) => {\r\n          return file.id === object.userData.id;\r\n        })\r\n      ) {\r\n        if (this.control.object == object) this.control.detach();\r\n        object.geometry.dispose();\r\n        object.material.dispose();\r\n        this.scene.remove(object);\r\n      }\r\n    });\r\n\r\n    RenderManager.render(files).then((meshes) => {\r\n      meshes\r\n        .filter((mesh) => {\r\n          return !this.scene.children.some((object) => {\r\n            return mesh.userData.id === object.userData.id;\r\n          });\r\n        })\r\n        .forEach((mesh) => {\r\n          this.scene.add(mesh);\r\n        });\r\n\r\n      if (selectedFile && selectedFile.id) {\r\n        this.control.detach();\r\n        this.scene.children.forEach((mesh) => {\r\n          if (mesh.userData.id === selectedFile.id) this.control.attach(mesh);\r\n        });\r\n      }\r\n\r\n      this.renderThree();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return <></>;\r\n  }\r\n}\r\n\r\nexport default ThreeRender;\r\n","import \"./GhostButtonsUp.css\";\r\n\r\nfunction GhostButtonsUp({ is2D, setIs2D, editTool, setEditTool }) {\r\n  return (\r\n    <div className=\"ghostButtonsUp\">\r\n      <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n        <input\r\n          type=\"radio\"\r\n          className=\"btn-check\"\r\n          name=\"btnradio1\"\r\n          id=\"btnradio11\"\r\n          autoComplete=\"off\"\r\n          checked={is2D}\r\n        />\r\n        <label\r\n          onClick={() => setIs2D(true)}\r\n          className=\"btn btn-secondary btn-sm\"\r\n        >\r\n          2D\r\n        </label>\r\n\r\n        <input\r\n          type=\"radio\"\r\n          className=\"btn-check\"\r\n          name=\"btnradio1\"\r\n          id=\"btnradio12\"\r\n          autoComplete=\"off\"\r\n          checked={!is2D}\r\n        />\r\n        <label\r\n          onClick={() => setIs2D(false)}\r\n          className=\"btn btn-secondary btn-sm\"\r\n        >\r\n          3D\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n        <input\r\n          type=\"radio\"\r\n          className=\"btn-check\"\r\n          name=\"btnradio3\"\r\n          id=\"btnradio31\"\r\n          autoComplete=\"off\"\r\n          checked={editTool === \"translate\"}\r\n        />\r\n        <label\r\n          onClick={() => setEditTool(\"translate\")}\r\n          className=\"btn btn-secondary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            className=\"bi bi-arrows-move\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z\"\r\n            />\r\n          </svg>\r\n        </label>\r\n\r\n        <input\r\n          type=\"radio\"\r\n          className=\"btn-check\"\r\n          name=\"btnradio3\"\r\n          id=\"btnradio32\"\r\n          autoComplete=\"off\"\r\n          checked={editTool === \"rotate\"}\r\n        />\r\n        <label\r\n          onClick={() => setEditTool(\"rotate\")}\r\n          className=\"btn btn-secondary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            className=\"bi bi-arrow-repeat\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z\" />\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z\"\r\n            />\r\n          </svg>\r\n        </label>\r\n\r\n        <input\r\n          type=\"radio\"\r\n          className=\"btn-check\"\r\n          name=\"btnradio3\"\r\n          id=\"btnradio33\"\r\n          autoComplete=\"off\"\r\n          checked={editTool === \"scale\"}\r\n        />\r\n        <label\r\n          onClick={() => setEditTool(\"scale\")}\r\n          className=\"btn btn-secondary btn-sm\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            className=\"bi bi-arrows-fullscreen\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z\"\r\n            />\r\n          </svg>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GhostButtonsUp;\r\n","import './GhostButtonsDown.css';\r\n\r\nfunction GhostButtonsDown(props) {\r\n  return (\r\n    <div class=\"ghostButtonsDown\">\r\n      <button type=\"button\" class=\"btn btn-dark btn-sm\">\r\n        Postion: {props.position.join(\" | \") + \" \"}\r\n        Rotation: {props.rotation.join(\" | \") + \" \"}\r\n        Scale: {props.scale.join(\" | \")}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GhostButtonsDown;\r\n","import \"./MainSpace.css\";\r\nimport ThreeRender from \"../ThreeRender/view.js\";\r\nimport GhostButtonsUp from \"../GhostButtonsUp/GhostButtonsUp.js\";\r\nimport GhostButtonsDown from \"../GhostButtonsDown/GhostButtonsDown.js\";\r\n\r\nimport React, { useState } from \"react\";\r\n\r\nfunction MainSpace() {\r\n  const [is2D, setIs2D] = useState(false);\r\n  const [editTool, setEditTool] = useState(\"translate\");\r\n\r\n  return (\r\n    <div>\r\n      <GhostButtonsUp\r\n        is2D={is2D}\r\n        editTool={editTool}\r\n        setIs2D={setIs2D}\r\n        setEditTool={setEditTool}\r\n      />\r\n\r\n      <GhostButtonsDown\r\n        position={[0.0, 0.0, 0.0]}\r\n        rotation={[0.0, 0.0, 0.0]}\r\n        scale={[0.0, 0.0, 0.0]}\r\n      />\r\n\r\n      <ThreeRender\r\n        is2D={is2D}\r\n        editTool={editTool}\r\n        setIs2D={setIs2D}\r\n        setEditTool={setEditTool}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainSpace;\r\n","import \"./FileDrop.css\";\r\n\r\nimport React, { useContext, useEffect } from \"react\";\r\n\r\nimport FileManager from \"../../managers/fileManager\";\r\nimport { FileContext } from \"../../context/file\";\r\n\r\nfunction FileDrop(props) {\r\n  const element = document.body;\r\n  const { files, setFiles } = useContext(FileContext);\r\n\r\n  const handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleDragIn = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleDragOut = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n      console.log(e.dataTransfer);\r\n      loadFiles([...e.dataTransfer.files]);\r\n      e.dataTransfer.clearData();\r\n    }\r\n  };\r\n\r\n  const loadFiles = (list) => {\r\n    const newFiles = [...files]\r\n    list\r\n      .forEach((file) => {\r\n        let newFile = FileManager.load(file);\r\n        if(newFile)\r\n          newFiles.push(newFile);\r\n      });\r\n      setFiles(newFiles);\r\n  };\r\n\r\n  useEffect(() => {\r\n    element.addEventListener(\"dragenter\", handleDragIn);\r\n    element.addEventListener(\"dragleave\", handleDragOut);\r\n    element.addEventListener(\"dragover\", handleDrag);\r\n    element.addEventListener(\"drop\", handleDrop);\r\n    return () => {\r\n      element.removeEventListener(\"dragenter\", handleDragIn);\r\n      element.removeEventListener(\"dragleave\", handleDragOut);\r\n      element.removeEventListener(\"dragover\", handleDrag);\r\n      element.removeEventListener(\"drop\", handleDrop);\r\n    };\r\n  });\r\n\r\n  return <>{props.children}</>;\r\n}\r\n\r\nexport default FileDrop;\r\n","import './App.css';\r\n\r\nimport LeftBar from \"./components/LeftBar/LeftBar.js\";\r\nimport RightBar from \"./components/RightBar/RightBar.js\";\r\nimport MainSpace from \"./components/MainSpace/MainSpace.js\";\r\nimport FileDrop from \"./components/FileDrop/FileDrop.js\";\r\n\r\nimport React from 'react';\r\n\r\nimport {FileContextProvider} from \"./context/file\";\r\n\r\nimport useDebounce from \"./hooks/useDebounce.js\";\r\n\r\nfunction App() {\r\n\r\n/*\r\n  const callAPI = async (value) => {\r\n    console.log(\"HARD API\");\r\n  };\r\n\r\n  const debouncedAPICall = useDebounce(callAPI, 500);\r\n\r\n  const handleInputChange = async (e) => {\r\n    debouncedAPICall(e.target.value);\r\n  };\r\n*/\r\n  return (\r\n    <FileContextProvider>\r\n      <FileDrop>\r\n          <LeftBar / >\r\n          <MainSpace / >\r\n          <RightBar / >\r\n      </FileDrop>\r\n    </FileContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./_vendor/bootstrap/bootstrap.min.css\";\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}