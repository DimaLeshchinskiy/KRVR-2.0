(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],Array(35).concat([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),c=n(20),a=n.n(c),l=(n(35),n(36),n(37),n(38),n(8)),s=(n(39),n(15)),o=n(9),u=n(0);var d=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(){return r(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return r(!0)},class:"btn",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})})}),Object(u.jsxs)(o.a,{show:n,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(o.a.Header,{children:Object(u.jsx)(o.a.Title,{children:"Modal heading"})}),Object(u.jsxs)(o.a.Body,{children:[Object(u.jsxs)("select",{class:"form-select form-select-sm","aria-label":".form-select-sm example",children:[Object(u.jsx)("option",{selected:!0,children:"Open this select menu"}),Object(u.jsx)("option",{value:"1",children:"One"}),Object(u.jsx)("option",{value:"2",children:"Two"}),Object(u.jsx)("option",{value:"3",children:"Three"})]}),Object(u.jsxs)("select",{class:"form-select form-select-sm","aria-label":".form-select-sm example",children:[Object(u.jsx)("option",{selected:!0,children:"Open this select menu"}),Object(u.jsx)("option",{value:"1",children:"One"}),Object(u.jsx)("option",{value:"2",children:"Two"}),Object(u.jsx)("option",{value:"3",children:"Three"})]}),Object(u.jsxs)("div",{class:"form-check form-switch",children:[Object(u.jsx)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault"}),Object(u.jsx)("label",{class:"form-check-label",for:"flexSwitchCheckDefault",children:"Default switch checkbox input"})]}),Object(u.jsxs)("div",{class:"form-check form-switch",children:[Object(u.jsx)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked",checked:!0}),Object(u.jsx)("label",{class:"form-check-label",for:"flexSwitchCheckChecked",children:"Checked switch checkbox input"})]})]}),Object(u.jsxs)(o.a.Footer,{children:[Object(u.jsx)(s.a,{variant:"secondary",onClick:c,children:"Close"}),Object(u.jsx)(s.a,{variant:"primary",onClick:c,children:"Save Changes"})]})]})]})},h=n(16),b=(n(44),[{id:"1",typeId:"1",title:"Square End Mills 1mm lof 2mm",fields:[{label:"Field Label",inputType:"number",inputName:"inputName",value:52},{label:"Field Label 2",inputType:"number",inputName:"inputName2",value:10}]},{id:"2",typeId:"1",title:"Square End Mills 2mm lof 4mm",fields:[{label:"Field Label",inputType:"number",inputName:"inputName",value:52},{label:"Field Label 2",inputType:"number",inputName:"inputName2",value:10}]}]),j=[{id:"1",title:"Square end mills",type:"square_end_mills",fields:[{label:"Field Label",inputType:"number",inputName:"inputName"},{label:"Field Label 2",inputType:"number",inputName:"inputName2"}]}],p={tool:"/tool",tools:"/tools",toolTypes:"/toolTypes",action:"/action",actions:"/actions",actionTypes:"/actionTypes"},f={postProcess:"/postProcess",convertStep:"/convert/step"};function v(){return new Promise((function(e,t){fetch(p.tools).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){e(b)}))}))}function x(){return new Promise((function(e,t){fetch(p.toolTypes).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){e(j)}))}))}var m=function(e){var t=Object(i.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)(e.tab||"list"),d=Object(l.a)(a,2),h=d[0],b=d[1],j=Object(i.useState)(e.editToolId),p=Object(l.a)(j,2),f=p[0],v=p[1],x=function(){return c(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return c(!0)},class:"btn",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-screwdriver",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M0 1l1-1 3.081 2.2a1 1 0 0 1 .419.815v.07a1 1 0 0 0 .293.708L10.5 9.5l.914-.305a1 1 0 0 1 1.023.242l3.356 3.356a1 1 0 0 1 0 1.414l-1.586 1.586a1 1 0 0 1-1.414 0l-3.356-3.356a1 1 0 0 1-.242-1.023L9.5 10.5 3.793 4.793a1 1 0 0 0-.707-.293h-.071a1 1 0 0 1-.814-.419L0 1zm11.354 9.646a.5.5 0 0 0-.708.708l3 3a.5.5 0 0 0 .708-.708l-3-3z"})})}),Object(u.jsxs)(o.a,{show:r,onHide:x,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,scrollable:!0,size:"lg",children:[Object(u.jsx)(o.a.Header,{children:Object(u.jsx)(o.a.Title,{children:"Tools Manager"})}),Object(u.jsx)(o.a.Body,{children:"list"===h?Object(u.jsx)(O,{openCreate:function(){v(null),b("create")},openEdit:function(e){v(e),b("create")}}):Object(u.jsx)(g,{openList:function(){v(null),b("list")},editToolId:f})}),Object(u.jsx)(o.a.Footer,{children:Object(u.jsx)(s.a,{variant:"secondary",onClick:x,children:"Close"})})]})]})};function O(e){var t=Object(i.useState)([]),n=Object(l.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)([]),s=Object(l.a)(a,2),o=s[0],d=s[1];Object(i.useEffect)((function(){v().then((function(e){c(e)})),x().then((function(e){d(e)}))}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{class:"input-group mb-3",children:[Object(u.jsx)("input",{type:"text",class:"form-control",placeholder:"Fulltext search"}),Object(u.jsx)("button",{class:"btn btn-outline-primary",type:"button",id:"button-addon2",children:"Search"}),Object(u.jsx)("button",{class:"btn btn-primary",type:"button",onClick:function(){e.openCreate()},children:"Create"})]}),Object(u.jsxs)("table",{class:"table table-hover",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Tool name"}),Object(u.jsx)("th",{scope:"col",children:"Tool type"}),Object(u.jsx)("th",{scope:"col",children:"Action"})]})}),Object(u.jsx)("tbody",{children:r.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:t.title}),Object(u.jsx)("td",{children:(n=t.typeId,0==o.length?"":o.find((function(e){return e.id==n})).title)}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{class:"btn-group",role:"group",children:[Object(u.jsx)("button",{type:"button",class:"btn btn-outline-primary",onClick:function(){var n;n=t.id,e.openEdit(n)},children:"Edit"}),Object(u.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){var e;e=t.id,console.log(e)},children:"Delete"})]})})]});var n}))})]})]})}function g(e){var t=e.editToolId,n=e.openList,r=Object(i.useState)([]),c=Object(l.a)(r,2),a=c[0],s=c[1],o=Object(i.useState)(null),d=Object(l.a)(o,2),j=d[0],f=d[1],v=Object(i.useState)(""),m=Object(l.a)(v,2),O=m[0],g=m[1],w=Object(i.useState)({}),y=Object(l.a)(w,2),k=y[0],C=y[1],z=Object(i.useState)([]),T=Object(l.a)(z,2),A=T[0],F=T[1];Object(i.useEffect)((function(){var e;t&&(e=t,new Promise((function(t,n){fetch("".concat(p.tool,"?toolId=").concat(e)).then((function(e){return e.json()})).then((function(e){return t(e)})).catch((function(n){t(b.find((function(t){return t.id===e})))}))}))).then((function(e){C(e),g(e.title),f(e.typeId),F(e.fields)})),x().then((function(e){s(e)}))}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{class:"btn-group mb-3",role:"group",children:[Object(u.jsx)("button",{class:"btn btn-secondary",type:"button",onClick:function(){n()},children:"Back"}),Object(u.jsx)("button",{class:"btn btn-primary",type:"button",children:"Save"})]}),Object(u.jsxs)("div",{class:"input-group mb-2",children:[Object(u.jsx)("span",{class:"input-group-text",id:"inputGroup-sizing-default",children:"Title"}),Object(u.jsx)("input",{type:"text",class:"form-control",placeholder:"Tool name",value:O,onChange:function(e){return g(e.target.value)}})]}),Object(u.jsxs)("div",{class:"input-group mb-2",children:[Object(u.jsx)("label",{class:"input-group-text",for:"inputGroupSelect01",children:"Tool type"}),Object(u.jsx)("select",{class:"form-select",id:"inputGroupSelect01",onChange:function(e){if(k.typeId=null,k.fields=[],e.target.value){var t=a.find((function(t){return console.log(t,e.target.value),t.id==e.target.value}));t&&(k.typeId=t.id,k.fields=t.fields.map((function(e){return Object.assign({},e)})))}f(k.typeId),F(k.fields)},children:function(){var e=[];return e.push(Object(u.jsx)("option",{selected:!j,value:"",children:"Choose..."})),a.forEach((function(t,n){e.push(Object(u.jsx)("option",{value:t.id,selected:j==t.id,children:t.title},n))})),e}()})]}),0===A.length?Object(u.jsx)("div",{children:"Prazdna mnozina"}):A.map((function(e){return Object(u.jsxs)("div",{class:"input-group mt-2",children:[Object(u.jsx)("span",{class:"input-group-text",id:"inputGroup-sizing-default",children:e.label}),Object(u.jsx)("input",{type:e.inputType,class:"form-control",placeholder:"Tool name",value:e.value,onChange:function(t){return n=t.target.value,i=e.inputName,A.find((function(e){return e.inputName===i})).value=n,void F(Object(h.a)(k.fields));var n,i}})]})}))]})}n(45);var w=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(){return r(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return r(!0)},class:"btn",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-terminal-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3zm9.5 5.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-6.354-.354a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708l-2-2a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146z"})})}),Object(u.jsxs)(o.a,{show:n,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(o.a.Header,{children:Object(u.jsx)(o.a.Title,{children:"Modal heading"})}),Object(u.jsxs)(o.a.Body,{children:[Object(u.jsxs)("ul",{class:"list-group",children:[Object(u.jsx)("li",{class:"list-group-item",children:"An item"}),Object(u.jsx)("li",{class:"list-group-item",children:"A second item"}),Object(u.jsx)("li",{class:"list-group-item",children:"A third item"}),Object(u.jsx)("li",{class:"list-group-item",children:"A fourth item"}),Object(u.jsx)("li",{class:"list-group-item",children:"And a fifth one"})]}),Object(u.jsxs)("div",{class:"row g-3 justify-content-between",children:[Object(u.jsxs)("div",{class:"col-9",children:[Object(u.jsx)("label",{class:"visually-hidden",for:"inlineFormInputGroupUsername",children:"Command"}),Object(u.jsxs)("div",{class:"input-group",children:[Object(u.jsx)("div",{class:"input-group-text",children:">_"}),Object(u.jsx)("input",{type:"text",class:"form-control",id:"inlineFormInputGroupUsername",placeholder:"Command"})]})]}),Object(u.jsx)("div",{class:"col-3 d-grid",children:Object(u.jsx)("button",{type:"btn",class:"btn btn-primary",children:"Send"})})]})]}),Object(u.jsxs)(o.a.Footer,{children:[Object(u.jsx)(s.a,{variant:"secondary",onClick:c,children:"Close"}),Object(u.jsx)(s.a,{variant:"primary",onClick:c,children:"Save Changes"})]})]})]})},y=(n(46),r.a.createContext()),k=function(e){var t=Object(i.useState)([]),n=Object(l.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)({}),s=Object(l.a)(a,2),o=s[0],d=s[1];return Object(u.jsx)(y.Provider,{value:{files:r,setFiles:c,selectedFile:o,setSelectedFile:d},children:e.children})},C=n(13),z=n.n(C),T=n(18),A=n(3),F=n(4),S=function(){function e(){Object(A.a)(this,e),this._id=Date.now(),this._name=null,this._size=null,this._file=null,this._millingActions=[]}return Object(F.a)(e,[{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"id",get:function(){return this._id}},{key:"file",get:function(){return this._file},set:function(e){this._file=e}},{key:"size",get:function(){return this._size},set:function(e){this._size=e}},{key:"millingActions",get:function(){return this._millingActions},set:function(e){this._millingActions=e}},{key:"ext",value:function(){return this._name.split(".").pop()}}]),e}(),E=[{id:"1",title:"Face",type:"face",fields:[{label:"Field Label",inputType:"number",inputName:"inputName"},{label:"Face",inputType:"face",inputName:"inputName2"}]}];function M(e){var t={id:e.id,toolId:e.toolId,typeId:e.typeId,title:e.title,fields:[]};return e.fields.forEach((function(e){var n={label:e.label,inputType:e.inputType,inputName:e.inputName,value:null};e.value&&"number"===e.inputType&&(n.value=P(e)),e.value&&"face"===e.inputType&&(n.value=L(e)),t.fields.push(n)})),t}var P=function(e){return e.value},L=function(e){return e.value.toJSON()},B={TEXT:"text",ARRBUFF:"arr_buffer",DATAURL:"data_url"},H=["jpg","png","bmp","obj","stl","svg","obj","step"],D=function(){function e(){Object(A.a)(this,e)}return Object(F.a)(e,null,[{key:"load",value:function(e){var t=e.name.split(".").pop();if(!H.includes(t))return null;console.log(e);var n=new S;return n.name=e.name,n.file=e,n.size=e.size,n}},{key:"readFile",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Types.TEXT;return new Promise((function(e,i){var r=new FileReader;switch(r.onload=function(){e({data:r.result,file:t})},r.onerror=i,n){case B.TEXT:r.readAsText(t.file);break;case B.ARRBUFF:r.readAsArrayBuffer(t.file);break;case B.DATAURL:r.readAsDataURL(t.file);break;default:i()}}))}},{key:"file2img",value:function(t){return new Promise((function(n,i){e.readFile(t,B.DATAURL).then((function(e){var t=new Image;t.onload=function(){n(t)},t.src=e.data}))}))}},{key:"uploadFiles",value:function(e){var t=new FormData;e.forEach((function(e){t.append("files",e)})),fetch("/upload",{method:"POST",body:t})}},{key:"serializeFile",value:function(){var t=Object(T.a)(z.a.mark((function t(n){var i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.id,t.t1=n.name,t.t2=n.ext(),t.next=5,e.readFile(n);case 5:return t.t3=t.sent.data,t.t4=[],i={id:t.t0,name:t.t1,extension:t.t2,fileData:t.t3,millingActions:t.t4},n.millingActions.forEach((function(e){i.millingActions.push(M(e))})),t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();D.Types=B;var N=D,R={};function I(){return(I=Object(T.a)(z.a.mark((function e(t){var n,i,r,c=arguments;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},Object.assign(R,n),i={files:[],options:R},!t){e.next=16;break}r=0;case 5:if(!(r<t.length)){e.next=15;break}return console.log(t[r]),e.t0=i.files,e.next=10,N.serializeFile(t[r]);case 10:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 12:r++,e.next=5;break;case 15:V(i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){console.log(e),fetch(f.postProcess,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}var U=function(){var e=Object(i.useContext)(y).files,t=Object(i.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1],a=function(){return c(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return c(!0)},class:"btn",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-play-circle-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})})}),Object(u.jsxs)(o.a,{show:r,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(o.a.Header,{children:Object(u.jsx)(o.a.Title,{children:"Modal heading"})}),Object(u.jsx)(o.a.Body,{children:Object(u.jsx)("div",{class:"d-grid gap-2 mt-2",children:Object(u.jsx)("button",{class:"btn btn-primary",type:"button",onClick:function(){!function(e){I.apply(this,arguments)}(e,{})},children:"Just Do it"})})}),Object(u.jsxs)(o.a.Footer,{children:[Object(u.jsx)(s.a,{variant:"secondary",onClick:a,children:"Close"}),Object(u.jsx)(s.a,{variant:"primary",onClick:a,children:"Save Changes"})]})]})]})};n(48);var _=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(){return r(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return r(!0)},class:"btn",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-bell-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"})})}),Object(u.jsxs)(o.a,{show:n,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(o.a.Header,{children:Object(u.jsx)(o.a.Title,{children:"Modal heading"})}),Object(u.jsx)(o.a.Body,{children:Object(u.jsx)("p",{children:"Comming soon!"})}),Object(u.jsxs)(o.a.Footer,{children:[Object(u.jsx)(s.a,{variant:"secondary",onClick:c,children:"Close"}),Object(u.jsx)(s.a,{variant:"primary",onClick:c,children:"Save Changes"})]})]})]})};n(49);var G=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=function(){return r(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return r(!0)},class:"btn",children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-power",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{d:"M7.5 1v7h1V1h-1z"}),Object(u.jsx)("path",{d:"M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z"})]})}),Object(u.jsxs)(o.a,{show:n,onHide:c,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(u.jsx)(o.a.Header,{children:Object(u.jsx)(o.a.Title,{children:"Modal heading"})}),Object(u.jsx)(o.a.Body,{children:Object(u.jsx)("p",{children:"Are you sure you want to shutdown?"})}),Object(u.jsxs)(o.a.Footer,{children:[Object(u.jsx)(s.a,{variant:"secondary",onClick:c,children:"Close"}),Object(u.jsx)(s.a,{variant:"primary",onClick:c,children:"Shutdown"})]})]})]})};var W=function(){return Object(u.jsxs)("div",{class:"leftBar",children:[Object(u.jsxs)("div",{class:"group",children:[Object(u.jsx)(d,{}),Object(u.jsx)(m,{}),Object(u.jsx)(w,{}),Object(u.jsx)(U,{}),Object(u.jsx)("div",{onClick:function(){window.open("https://www.youtube.com/","_blank")},id:"linkToVideo",class:"btn",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-question-circle-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"})})})]}),Object(u.jsxs)("div",{class:"group",children:[Object(u.jsx)(_,{}),Object(u.jsx)(G,{})]})]})};n(50),n(51);n(52);var X=n(17),q=n(5),Q=n(6),J=(n(53),n(1)),Y=n(25),Z=n(21),K=n(27),$=function(e){Object(q.a)(n,e);var t=Object(Q.a)(n);function n(e){return Object(A.a)(this,n),t.call(this,e)}return Object(F.a)(n,[{key:"load",value:function(e,t,n,i){var r=this,c=new J.i(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,(function(n){try{t(r.parse(n))}catch(c){i?i(c):console.error(c),r.manager.itemError(e)}}),n,i)}},{key:"parse",value:function(e){function t(e,t,n){for(var i=0,r=e.length;i<r;i++)if(e[i]!==t.getUint8(n+i,!1))return!1;return!0}var n,i=function(e){if("string"===typeof e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer||t}return e}(e);return function(e){var n=new DataView(e);if(84+50*n.getUint32(80,!0)===n.byteLength)return!0;for(var i=[115,111,108,105,100],r=0;r<5;r++)if(t(i,n,r))return!1;return!0}(i)?function(e){for(var t,n,i,r,c,a,l,s,o=new DataView(e),u=o.getUint32(80,!0),d=!1,h=0;h<70;h++)1129270351==o.getUint32(h,!1)&&82==o.getUint8(h+4)&&61==o.getUint8(h+5)&&(d=!0,r=new Float32Array(3*u*3),c=o.getUint8(h+6)/255,a=o.getUint8(h+7)/255,l=o.getUint8(h+8)/255,s=o.getUint8(h+9)/255);for(var b=new J.c,j=new Float32Array(3*u*3),p=new Float32Array(3*u*3),f=0;f<u;f++){var v=84+50*f,x=o.getFloat32(v,!0),m=o.getFloat32(v+4,!0),O=o.getFloat32(v+8,!0);if(d){var g=o.getUint16(v+48,!0);0===(32768&g)?(t=(31&g)/31,n=(g>>5&31)/31,i=(g>>10&31)/31):(t=c,n=a,i=l)}for(var w=1;w<=3;w++){var y=v+12*w,k=3*f*3+3*(w-1);j[k]=o.getFloat32(y,!0),j[k+1]=o.getFloat32(y+4,!0),j[k+2]=o.getFloat32(y+8,!0),p[k]=x,p[k+1]=m,p[k+2]=O,d&&(r[k]=t,r[k+1]=n,r[k+2]=i)}}return b.setAttribute("position",new J.b(j,3)),b.setAttribute("normal",new J.b(p,3)),d&&(b.setAttribute("color",new J.b(r,3)),b.hasColors=!0,b.alpha=s),b}(i):function(e){for(var t,n=new J.c,i=/solid([\s\S]*?)endsolid/g,r=/facet([\s\S]*?)endfacet/g,c=0,a=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,l=new RegExp("vertex"+a+a+a,"g"),s=new RegExp("normal"+a+a+a,"g"),o=[],u=[],d=new J.Q,h=0,b=0,j=0;null!==(t=i.exec(e));){b=j;for(var p=t[0];null!==(t=r.exec(p));){for(var f=0,v=0,x=t[0];null!==(t=s.exec(x));)d.x=parseFloat(t[1]),d.y=parseFloat(t[2]),d.z=parseFloat(t[3]),v++;for(;null!==(t=l.exec(x));)o.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),u.push(d.x,d.y,d.z),f++,j++;1!==v&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+c),3!==f&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+c),c++}var m=b,O=j-b;n.addGroup(m,O,h),h++}return n.setAttribute("position",new J.j(o,3)),n.setAttribute("normal",new J.j(u,3)),n}("string"!==typeof(n=e)?J.q.decodeText(new Uint8Array(n)):n)}}]),n}(J.p);function ee(e){return(new J.N).load(e)}function te(e,t){return new Promise((function(n,i){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var c=r.getContext("2d"),a=document.createElement("img");a.setAttribute("src",e),a.onload=function(){c.drawImage(a,0,0);var e=new J.M(r);n(e)}}))}function ne(e,t){return new Promise((function(n,i){t.load(e,n)}))}function ie(e){return new Promise((function(t,n){fetch(f.convertStep,{method:"POST",body:e}).then((function(e){return e.text()})).then((function(e){t(e)}))}))}function re(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(T.a)(z.a.mark((function e(t){var n,i,r,c,a,l,s,o,u,d,h,b,j;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return N.readFile(e,N.Types.DATAURL)})),e.next=3,Promise.all(n);case 3:i=e.sent,r=[],c=Object(Z.a)(i),e.prev=6,c.s();case 8:if((a=c.n()).done){e.next=24;break}return l=a.value,s=ee(l.data),e.next=13,N.file2img(l.file);case 13:o=e.sent,u=new J.w({map:s,color:16777215}),d=new J.w({color:0}),h=new J.a(o.width,o.height,1),b=[d,d,d,d,u,d],(j=new J.v(h,b)).applyMatrix4((new J.u).makeRotationX(-Math.PI/2)),j.userData={id:l.file.id,type:"img"},r.push(j);case 22:e.next=8;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(6),c.e(e.t0);case 29:return e.prev=29,c.f(),e.finish(29);case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,null,[[6,26,29,32]])})))).apply(this,arguments)}function ae(e){return le.apply(this,arguments)}function le(){return(le=Object(T.a)(z.a.mark((function e(t){var n,i,r,c,a,l,s,o,u,d,h,b,j;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return N.readFile(e,N.Types.DATAURL)})),e.next=3,Promise.all(n);case 3:i=e.sent,r=[],c=Object(Z.a)(i),e.prev=6,c.s();case 8:if((a=c.n()).done){e.next=26;break}return l=a.value,e.next=12,N.file2img(l.file);case 12:return s=e.sent,e.next=15,te(l.data,s);case 15:o=e.sent,u=new J.w({map:o,color:16777215}),d=new J.w({color:0}),h=new J.a(s.width,s.height,1),b=[d,d,d,d,u,d],(j=new J.v(h,b)).applyMatrix4((new J.u).makeRotationX(-Math.PI/2)),j.userData={id:l.file.id,type:"img"},r.push(j);case 24:e.next=8;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(6),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:return e.abrupt("return",r);case 35:case"end":return e.stop()}}),e,null,[[6,28,31,34]])})))).apply(this,arguments)}function se(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(T.a)(z.a.mark((function e(t){var n,i,r,c,a,l,s,o,u,d;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return N.readFile(e,N.Types.DATAURL)})),e.next=3,Promise.all(n);case 3:i=e.sent,r=[],c=new J.x({side:J.f}),a=Object(Z.a)(i),e.prev=7,a.s();case 9:if((l=a.n()).done){e.next=24;break}return s=l.value,o=null,"obj"==s.file.ext()?o=new K.a:"stl"==s.file.ext()&&(o=new $),e.next=15,ne(s.data,o);case 15:u=e.sent,d=null,u instanceof J.l?(d=u.children[0]).material=c:u instanceof J.c&&(d=new J.v(u,c)),d.applyMatrix4((new J.u).makeRotationX(-Math.PI/2)),d.geometry.center(),d.userData={id:s.file.id,type:"obj"},r.push(d);case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(7),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,null,[[7,26,29,32]])})))).apply(this,arguments)}function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(T.a)(z.a.mark((function e(t){var n,i,r,c,a,l,s,o,u,d,h;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return N.readFile(e,N.Types.TEXT)})),e.next=3,Promise.all(n);case 3:i=e.sent,r=[],c=new J.x,a=Object(Z.a)(i),e.prev=7,a.s();case 9:if((l=a.n()).done){e.next=24;break}return s=l.value,e.next=13,ie(s.data);case 13:o=e.sent,u=new $,d=u.parse(o),h=null,d instanceof J.l?(h=d.children[0]).material=c:d instanceof J.c&&(h=new J.v(d,c)),h.applyMatrix4((new J.u).makeRotationX(-Math.PI/2)),h.geometry.center(),h.userData={id:s.file.id,type:"obj"},r.push(h);case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(7),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return e.abrupt("return",r);case 33:case"end":return e.stop()}}),e,null,[[7,26,29,32]])})))).apply(this,arguments)}var he={render:function(e){return Object(T.a)(z.a.mark((function t(){var n,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(e.filter((function(e){return"jpg"==e.ext()||"png"==e.ext()||"bmp"==e.ext()})));case 2:return t.sent,t.next=5,ae(e.filter((function(e){return"svg"==e.ext()})));case 5:return t.sent,t.next=8,se(e.filter((function(e){return"stl"==e.ext()||"obj"==e.ext()})));case 8:return n=t.sent,t.next=11,ue(e.filter((function(e){return"step"==e.ext()})));case 11:return i=t.sent,t.abrupt("return",[].concat(Object(h.a)(n),Object(h.a)(i)));case 13:case"end":return t.stop()}}),t)})))()}},be=function(e,t){var n=window.innerWidth;return n>=1200?{width:545,height:351}:n>=992?{width:375,height:351}:{width:225,height:206}};function je(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0,r=0;r<e.vertices.length;r++)for(var c=0;c<t.vertices.length;c++)if(e.vertices[r].x===t.vertices[c].x&&e.vertices[r].y===t.vertices[c].y&&e.vertices[r].z===t.vertices[c].z&&i++,i===n)return!0;return!1}function pe(e,t){var n=e.geometry.toNonIndexed(),i=function(e,t){var n={vertices:[],normal:null},i=e.getAttribute("position").array,r=t.a,c=t.b,a=t.c,l=t.normal;return n.vertices.push({x:i[3*r],y:i[3*r+1],z:i[3*r+2]}),n.vertices.push({x:i[3*c],y:i[3*c+1],z:i[3*c+2]}),n.vertices.push({x:i[3*a],y:i[3*a+1],z:i[3*a+2]}),n.normal=l,n}(n,t),r=function(e){for(var t=[],n=e.getAttribute("position").array,i=e.getAttribute("normal").array,r=0;r<n.length;r+=9){for(var c={vertices:[],normal:null},a=0;a<9;a+=3)c.vertices.push({x:n[r+a],y:n[r+a+1],z:n[r+a+2]});c.normal=new J.Q(i[r],i[r+1],i[r+2]),t.push(c)}return t}(n);return r=function(e,t){for(var n=[t],i=null,r=[],c=[];;){for(;i=e.shift();)n.some((function(e){return je(e,i,2)}))?r.push(i):c.push(i);if(0===r.length)return n;n=n.concat(r),e=c,c=[],r=[]}}(r=function(e,t){return e.filter((function(e){var n=new J.Q(e.vertices[0].x,e.vertices[0].y,e.vertices[0].z);return 0==t.distanceToPoint(n)}))}(r=function(e,t){return e.filter((function(e){return 1==e.normal.dot(t)}))}(r=function(e,t){return e.filter((function(e){return!je(e,t)}))}(r,i),t.normal),function(e){var t=new J.Q(e.vertices[0].x,e.vertices[0].y,e.vertices[0].z),n=new J.Q(e.vertices[1].x,e.vertices[1].y,e.vertices[1].z),i=new J.Q(e.vertices[2].x,e.vertices[2].y,e.vertices[2].z);return(new J.C).setFromCoplanarPoints(t,n,i)}(i)),i)}var fe=new J.S({powerPreference:"high-performance"}),ve=function(e){Object(q.a)(n,e);var t=Object(Q.a)(n);function n(e){var i;return Object(A.a)(this,n),(i=t.call(this,e)).renderThree=i.renderThree.bind(Object(X.a)(i)),i.onWindowResize=i.onWindowResize.bind(Object(X.a)(i)),i.getCanvasRelativePosition=i.getCanvasRelativePosition.bind(Object(X.a)(i)),i.addSelectedFace=i.addSelectedFace.bind(Object(X.a)(i)),i.cameraPersp=null,i.scene=null,i.orbit=null,i.raycaster=null,i.group=null,i.viewRef=r.a.createRef(),i}return Object(F.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=be();fe.setPixelRatio(window.devicePixelRatio),fe.setSize(t.width,t.height),this.viewRef.current.appendChild(fe.domElement);var n=t.width/t.height;this.cameraPersp=new J.B(50,n,.01,3e4),this.cameraPersp.position.set(1e3,500,1e3),this.cameraPersp.lookAt(0,200,0),this.scene=new J.I,this.scene.background=new J.d(16777215);var i=new J.k(1e4,100,8947848,4473924);i.userData.className="GridHelper",this.scene.add(i),this.orbit=new Y.a(this.cameraPersp,fe.domElement),this.orbit.update(),this.orbit.addEventListener("change",this.renderThree),this.raycaster=new J.H;var r=this;fe.domElement.addEventListener("click",function(e){var t=this;if(r.props.isPickModeEnable){var n=new J.P,i=this.getCanvasRelativePosition(e);n.x=i.x/fe.domElement.clientWidth*2-1,n.y=-i.y/fe.domElement.clientHeight*2+1,this.raycaster.setFromCamera(n,this.cameraPersp),this.scene.children.filter((function(e){var t=e.userData.className,n=e.userData.type;return"GridHelper"!==t&&"select"!==n})).some((function(e){var n=t.raycaster.intersectObject(e,!0);if(n.length>0){var i=function(e){var t=new J.c,n=new Float32Array(9*e.length),i=new Float32Array(9*e.length),r=new Float32Array(9*e.length),c=0;return e.forEach((function(e){e.vertices.forEach((function(e){n[c++]=e.x,n[c++]=e.y,n[c++]=e.z}))})),c=0,e.forEach((function(e){for(var t=0;t<3;t++)i[c++]=e.normal.x,i[c++]=e.normal.y,i[c++]=e.normal.z})),c=0,e.forEach((function(){for(var e=0;e<3;e++)r[c++]=255,r[c++]=0,r[c++]=0})),t.setAttribute("position",new J.b(n,3)),t.setAttribute("normal",new J.b(i,3)),t.setAttribute("color",new J.b(r,3)),t}(pe(n[0].object,n[0].face));t.props.onPick(i,t.props.pickPropertyName)}}))}}.bind(this)),window.addEventListener("resize",this.onWindowResize);var c=this.props.file;he.render([c]).then((function(t){e.scene.add(t[0]),e.addSelectedFace(),e.renderThree()}))}},{key:"componentWillUnmount",value:function(){console.log("unmount"),this.scene.children.forEach((function(e){console.log(e),e.geometry.dispose(),e.material.dispose()}))}},{key:"getCanvasRelativePosition",value:function(e){var t=fe.domElement.getBoundingClientRect();return{x:(e.clientX-t.left)*fe.domElement.clientWidth/t.width,y:(e.clientY-t.top)*fe.domElement.clientHeight/t.height}}},{key:"onWindowResize",value:function(){var e=be(),t=e.width/e.height;this.cameraPersp.aspect=t,this.cameraPersp.updateProjectionMatrix(),fe.setSize(e.width,e.height),this.renderThree()}},{key:"renderThree",value:function(){fe.render(this.scene,this.cameraPersp)}},{key:"addSelectedFace",value:function(){var e=this;Object(h.a)(this.scene.children).forEach((function(t){"select"===t.userData.type&&(t.geometry.dispose(),t.material.dispose(),e.scene.remove(t))})),this.props.faceInputFields.forEach((function(t){if(t.value){var n=function(e,t){var n=new J.w({color:16711680,vertexColors:J.R}),i=new J.v(e,n);return i.applyMatrix4((new J.u).makeRotationX(-Math.PI/2)),i.userData={type:"select",property_name:t},i}(t.value,t.fieldName);e.scene.add(n),e.renderThree()}})),this.renderThree()}},{key:"componentDidUpdate",value:function(){this.addSelectedFace()}},{key:"render",value:function(){return Object(u.jsx)("div",{ref:this.viewRef})}}]),n}(i.Component);var xe=function(e){var t=e.action,n=e.file,r=e.onSaveAction,c=Object(i.useState)(!1),a=Object(l.a)(c,2),d=a[0],b=a[1],j=Object(i.useState)(""),f=Object(l.a)(j,2),v=f[0],x=f[1],m=Object(i.useState)(t.typeId),O=Object(l.a)(m,2),g=O[0],w=O[1],y=Object(i.useState)([]),k=Object(l.a)(y,2),C=k[0],z=k[1],T=Object(i.useState)(t.title),A=Object(l.a)(T,2),F=A[0],S=A[1],M=Object(i.useState)(Object(h.a)(t.fields)),P=Object(l.a)(M,2),L=P[0],B=P[1];Object(i.useEffect)((function(){new Promise((function(e,t){fetch(p.actionTypes).then((function(e){return e.json()})).then((function(t){return e(t)})).catch((function(t){e(E)}))})).then((function(e){z(e)}))}),[]);var H,D=function(){r(t)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(o.a,{show:t.isEdit,onHide:D,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,size:"xl",children:[Object(u.jsx)(o.a.Header,{children:Object(u.jsx)(o.a.Title,{children:"Action Settings"})}),Object(u.jsx)(o.a.Body,{children:Object(u.jsxs)("div",{class:"row g-3 justify-content-between",children:[Object(u.jsx)("div",{class:"col-6",children:Object(u.jsx)(ve,{file:n,isPickModeEnable:d,pickPropertyName:v,onPick:function(e,n){console.log("onPick",e,n),t.fields.find((function(e){return e.inputName===n})).value=e,x(""),b(!1)},faceInputFields:(H="facePicker",L.filter((function(e){return e.inputType===H})))})}),Object(u.jsxs)("div",{class:"col-6",children:[Object(u.jsxs)("div",{class:"input-group mb-2",children:[Object(u.jsx)("span",{class:"input-group-text",id:"inputGroup-sizing-default",children:"Title"}),Object(u.jsx)("input",{type:"text",class:"form-control",placeholder:"Action title",value:F,onChange:function(e){return n=e.target.value,t.title=n,void S(n);var n}})]}),Object(u.jsx)(Oe,{action:t}),Object(u.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:function(e){if(e.target.value){var n=C.find((function(t){return t.id===e.target.value}));t.typeId=n.id,t.fields=n.fields.map((function(e){return Object.assign({},e)}))}else t.typeId=null,t.fields=[];w(e.target.value),b(!1),x(""),B(Object(h.a)(t.fields))},children:[Object(u.jsx)("option",{selected:!g,value:"",children:"Choose Action type"}),C.map((function(e,t){return Object(u.jsx)("option",{selected:g===e.id,value:e.id,children:e.title},e.id)}))]}),Object(u.jsx)("ul",{class:"list-group list-group-flush mt-2",children:Object(u.jsx)(me,{action:t,tooglePickMode:function(e){d||(t.fields.find((function(t){return t.inputName===e})).value=null,x(e),b(!0))}})})]})]})}),Object(u.jsx)(o.a.Footer,{children:Object(u.jsx)(s.a,{variant:"primary",onClick:D,children:"Save"})})]})})};function me(e){var t=e.action,n=e.tooglePickMode;return 0===t.fields.length?Object(u.jsx)("li",{class:"list-group-item",children:"Empty"}):t.fields.map((function(e){return"face"===e.inputType?Object(u.jsx)(ge,{field:e,tooglePickMode:n}):"number"===e.inputType?Object(u.jsx)(we,{field:e}):Object(u.jsx)("li",{class:"list-group-item",children:"Err"})}))}function Oe(e){var t=e.action,n=Object(i.useState)([]),r=Object(l.a)(n,2),c=r[0],a=r[1],s=Object(i.useState)(""),o=Object(l.a)(s,2),d=o[0],h=o[1];Object(i.useEffect)((function(){v().then((function(e){a(e),h(t.toolId)}))}),[]);return Object(u.jsxs)("select",{class:"form-select mb-2",id:"inputGroupSelect01",onChange:function(e){t.toolId=e.target.value,h(e.target.value)},children:[Object(u.jsx)("option",{selected:!d,children:"Choose Tool"}),c.map((function(e,t){return Object(u.jsx)("option",{value:e.id,selected:e.id===d,children:e.title},t)}))]})}function ge(e){var t=e.field,n=e.tooglePickMode;return Object(u.jsx)("li",{class:"list-group-item",children:Object(u.jsxs)("div",{class:"input-group",children:[Object(u.jsx)("span",{class:"input-group-text",children:t.label}),Object(u.jsx)("button",{class:"btn btn-outline-secondary",type:"button",onClick:function(){n(t.inputName)},children:"Pick face"}),Object(u.jsx)("input",{type:"color",class:"form-control form-control-color",id:"exampleColorInput",value:"#563d7c",title:"Choose your color"})]})})}function we(e){var t=e.field,n=Object(i.useState)(t),r=Object(l.a)(n,2),c=r[0],a=r[1];return Object(i.useEffect)((function(){a(t.value)})),Object(u.jsx)("li",{class:"list-group-item",children:Object(u.jsxs)("div",{class:"input-group mb-2",children:[Object(u.jsx)("span",{class:"input-group-text",id:"inputGroup-sizing-default",children:t.label}),Object(u.jsx)("input",{type:"number",class:"form-control",placeholder:t.label,value:c,onChange:function(e){t.value=e.target.value,a(e.target.value)}})]})})}var ye=[{title:"",id:"millingActions",svg:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-box-arrow-right",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"}),Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),content:function(e){var t=Object(i.useContext)(y).selectedFile,n=Object(i.useState)([]),c=Object(l.a)(n,2),a=c[0],s=c[1];console.log(t),Object(i.useEffect)((function(){s(t.millingActions)}));var o=function(e){console.log(e);var n=t.millingActions.map((function(e){return e.isEdit=!1,e}));t.millingActions=n,s(Object(h.a)(n))};return Object(u.jsxs)("ul",{class:"list-group list-group-flush",children:[a.map((function(e){return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsxs)("li",{class:"list-group-item",children:[e.title,Object(u.jsx)("button",{onClick:function(){return function(e){console.log(e);var n=t.millingActions.map((function(t){return t.id===e.id&&(t.isEdit=!0),t}));t.millingActions=n,s(Object(h.a)(n))}(e)},children:"edit"}),Object(u.jsx)("button",{onClick:function(){return function(e){console.log(e);var n=t.millingActions.filter((function(t){return t.id!=e.id}));t.millingActions=n,s(Object(h.a)(n))}(e)},children:"delete"})]}),Object(u.jsx)(xe,{action:e,onSaveAction:o,file:t})]},e.id)})),Object(u.jsx)("li",{class:"list-group-item",onClick:function(){return function(){var e=[].concat(Object(h.a)(a),[{id:Date.now(),typeId:null,typeTitle:null,toolId:null,title:"Empty Action",fields:[],isEdit:!1}]);t.millingActions=e,s(Object(h.a)(e))}()},children:"+"})]})}},{title:"",id:"info",svg:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-circle",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(u.jsx)("path",{d:"M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]}),content:function(e){var t=e.selectedFile;return Object(u.jsxs)("ul",{class:"list-group list-group-flush",children:[Object(u.jsxs)("li",{class:"list-group-item",children:["Name: ",t.name]}),Object(u.jsxs)("li",{class:"list-group-item",children:["Size: ",function(e){if(0==e)return"0 Bytes";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}(t.size)]})]})}}];function ke(e){var t=Object(i.useState)(ye[0].id),n=Object(l.a)(t,2),c=n[0],a=n[1],s=e.selectedFile;return s.id?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{class:"fileInfo d-flex justify-content-around",children:[Object(u.jsx)("div",{class:"nav flex-column nav-pills",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:ye.map((function(e,t){var n=["nav-link"];return c===e.id&&n.push("active"),Object(u.jsx)("button",{class:n.join(" "),"data-bs-toggle":"pill","data-bs-target":"#v-pills-home",type:"button",role:"tab","aria-controls":"v-pills-home","aria-selected":"true","data-panel-id":e.id,onClick:function(){return t=e.id,void(c!==t&&a(t));var t},children:e.svg},t)}))}),Object(u.jsx)("div",{class:"vertical_hr"}),Object(u.jsx)("div",{class:"tab-content",id:"v-pills-tabContent",children:ye.map((function(e,t){var n=["tab-pane","fade"];return c===e.id&&n.push("show","active"),Object(u.jsx)("div",{class:n.join(" "),id:e.id,role:"tabpanel","aria-labelledby":"v-pills-home-tab",children:r.a.createElement(e.content,{selectedFile:s})},t)}))})]})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{class:"tab emptyExplorer",children:Object(u.jsx)("div",{children:Object(u.jsx)("p",{class:"fw-light",children:"Select one of imported files first"})})}),Object(u.jsx)("hr",{})]})}function Ce(){var e=Object(i.useContext)(y),t=e.files,n=e.setFiles,r=e.selectedFile,c=e.setSelectedFile;return 0==t.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{class:"tab emptyExplorer",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{class:"fw-light",children:"Explorer is empty"}),Object(u.jsx)("p",{class:"fw-light",children:"Drag an drop files to see them here"})]})}),Object(u.jsx)("hr",{})]}):Object(u.jsxs)("div",{class:"tab",children:[Object(u.jsxs)("table",{class:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-file-earmark",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"})})}),Object(u.jsx)("th",{children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-eye-slash-fill",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{d:"M10.79 12.912l-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.027 7.027 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.088z"}),Object(u.jsx)("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708l-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6l-12-12 .708-.708 12 12-.708.707z"})]})}),Object(u.jsx)("th",{children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-wide-connected",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M7.068.727c.243-.97 1.62-.97 1.864 0l.071.286a.96.96 0 0 0 1.622.434l.205-.211c.695-.719 1.888-.03 1.613.931l-.08.284a.96.96 0 0 0 1.187 1.187l.283-.081c.96-.275 1.65.918.931 1.613l-.211.205a.96.96 0 0 0 .434 1.622l.286.071c.97.243.97 1.62 0 1.864l-.286.071a.96.96 0 0 0-.434 1.622l.211.205c.719.695.03 1.888-.931 1.613l-.284-.08a.96.96 0 0 0-1.187 1.187l.081.283c.275.96-.918 1.65-1.613.931l-.205-.211a.96.96 0 0 0-1.622.434l-.071.286c-.243.97-1.62.97-1.864 0l-.071-.286a.96.96 0 0 0-1.622-.434l-.205.211c-.695.719-1.888.03-1.613-.931l.08-.284a.96.96 0 0 0-1.186-1.187l-.284.081c-.96.275-1.65-.918-.931-1.613l.211-.205a.96.96 0 0 0-.434-1.622l-.286-.071c-.97-.243-.97-1.62 0-1.864l.286-.071a.96.96 0 0 0 .434-1.622l-.211-.205c-.719-.695-.03-1.888.931-1.613l.284.08a.96.96 0 0 0 1.187-1.186l-.081-.284c-.275-.96.918-1.65 1.613-.931l.205.211a.96.96 0 0 0 1.622-.434l.071-.286zM12.973 8.5H8.25l-2.834 3.779A4.998 4.998 0 0 0 12.973 8.5zm0-1a4.998 4.998 0 0 0-7.557-3.779l2.834 3.78h4.723zM5.048 3.967c-.03.021-.058.043-.087.065l.087-.065zm-.431.355A4.984 4.984 0 0 0 3.002 8c0 1.455.622 2.765 1.615 3.678L7.375 8 4.617 4.322zm.344 7.646l.087.065-.087-.065z"})})}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{})]})}),Object(u.jsx)("tbody",{children:t.map((function(e,i){var a=[];return r.id===e.id&&a.push("table-primary"),Object(u.jsxs)("tr",{class:a.join(" "),onClick:function(){var n;n=e.id,c(t.find((function(e){return e.id===n})))},children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"checkbox",name:"",value:""})}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"checkbox",name:"",value:""})}),Object(u.jsx)("td",{children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-gear-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"})})}),Object(u.jsx)("td",{children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash-fill",viewBox:"0 0 16 16",onClick:function(){return i=e.id,void n(t.filter((function(e){return e.id!==i})));var i},children:Object(u.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})})]},i)}))})]}),Object(u.jsx)("hr",{}),Object(u.jsx)(ke,{selectedFile:r}),Object(u.jsx)("hr",{})]})}n(54);function ze(e){var t=Object(i.useState)(0),n=Object(l.a)(t,2),r=n[0],c=n[1],a=Object(i.useState)(0),s=Object(l.a)(a,2),o=s[0],d=s[1],h=Object(i.useState)(0),b=Object(l.a)(h,2),j=b[0],p=b[1],f=function(e){var t={x:e.x||0,y:e.y||0,z:e.z||0};console.log(t)};return Object(u.jsxs)("div",{class:"tab controls",children:[Object(u.jsxs)("div",{class:"btn-group col-11 mx-auto",role:"group","aria-label":"Basic example",children:[Object(u.jsxs)("button",{class:"btn btn-primary btn-sm",type:"button",children:[Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-lock-fill",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"})}),"Unlock"]}),Object(u.jsxs)("button",{type:"button",class:"btn btn-primary",children:[Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-house-fill",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"}),Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"})]}),"Home"]}),Object(u.jsxs)("button",{type:"button",class:"btn btn-primary",children:[Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-bullseye",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(u.jsx)("path",{d:"M8 13A5 5 0 1 1 8 3a5 5 0 0 1 0 10zm0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"}),Object(u.jsx)("path",{d:"M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"}),Object(u.jsx)("path",{d:"M9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})]}),"Origin"]})]}),Object(u.jsxs)("div",{class:"btn-group col-8 mx-auto",role:"group","aria-label":"Basic outlined example",children:[Object(u.jsx)("button",{onClick:function(){f({x:-1,y:1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-up-left",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M2 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1H3.707l10.147 10.146a.5.5 0 0 1-.708.708L3 3.707V8.5a.5.5 0 0 1-1 0v-6z"})})}),Object(u.jsx)("button",{onClick:function(){f({y:1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-up",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"})})}),Object(u.jsx)("button",{onClick:function(){f({x:1,y:1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-up-right",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M14 2.5a.5.5 0 0 0-.5-.5h-6a.5.5 0 0 0 0 1h4.793L2.146 13.146a.5.5 0 0 0 .708.708L13 3.707V8.5a.5.5 0 0 0 1 0v-6z"})})})]}),Object(u.jsxs)("div",{class:"btn-group col-8 mx-auto",role:"group","aria-label":"Basic outlined example",children:[Object(u.jsx)("button",{onClick:function(){f({x:-1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})})}),Object(u.jsx)("button",{type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-power",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{d:"M7.5 1v7h1V1h-1z"}),Object(u.jsx)("path",{d:"M3 8.812a4.999 4.999 0 0 1 2.578-4.375l-.485-.874A6 6 0 1 0 11 3.616l-.501.865A5 5 0 1 1 3 8.812z"})]})}),Object(u.jsx)("button",{onClick:function(){f({x:1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-right",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"})})})]}),Object(u.jsxs)("div",{class:"btn-group col-8 mx-auto",role:"group","aria-label":"Basic outlined example",children:[Object(u.jsx)("button",{onClick:function(){f({x:-1,y:-1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-left",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M2 13.5a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 0-1H3.707L13.854 2.854a.5.5 0 0 0-.708-.708L3 12.293V7.5a.5.5 0 0 0-1 0v6z"})})}),Object(u.jsx)("button",{onClick:function(){f({y:-1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"})})}),Object(u.jsx)("button",{onClick:function(){f({x:1,y:-1})},type:"button",class:"btn btn-outline-primary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-right",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{"fill-rule":"evenodd",d:"M14 13.5a.5.5 0 0 1-.5.5h-6a.5.5 0 0 1 0-1h4.793L2.146 2.854a.5.5 0 1 1 .708-.708L13 12.293V7.5a.5.5 0 0 1 1 0v6z"})})})]}),Object(u.jsxs)("div",{class:"btn-group col-8 mx-auto",role:"group","aria-label":"Basic outlined example",children:[Object(u.jsx)("button",{onClick:function(){f({z:-1})},type:"button",class:"btn btn-outline-primary btn-sm",children:"Z-"}),Object(u.jsx)("button",{onClick:function(){f({z:1})},type:"button",class:"btn btn-outline-primary btn-sm",children:"Z+"})]}),Object(u.jsxs)("div",{class:"row g-2 mx-auto",children:[Object(u.jsx)("div",{class:"col-md",children:Object(u.jsxs)("div",{class:"form-floating",children:[Object(u.jsx)("input",{type:"number",min:"0",max:"100",step:"1",class:"form-control",id:"floatingInputGrid",placeholder:"f",value:r,onChange:function(e){var t=e.target.value;c(Number.parseFloat(t))}}),Object(u.jsx)("label",{for:"floatingInputGrid",children:"Feed"})]})}),Object(u.jsx)("div",{class:"col-md",children:Object(u.jsxs)("div",{class:"form-floating",children:[Object(u.jsx)("input",{type:"number",min:"0",max:"100",step:"1",class:"form-control",id:"floatingInputGrid",placeholder:"f",value:o,onChange:function(e){console.log(e);var t=e.target.value;d(Number.parseFloat(t))}}),Object(u.jsx)("label",{for:"floatingInputGrid",children:"Step"})]})}),Object(u.jsx)("div",{class:"col-md",children:Object(u.jsxs)("div",{class:"form-floating",children:[Object(u.jsx)("input",{type:"number",min:"0",max:"100",step:"1",class:"form-control",id:"floatingInputGrid",placeholder:"f",value:j,onChange:function(e){console.log(e);var t=e.target.value;p(Number.parseFloat(t))}}),Object(u.jsx)("label",{for:"floatingInputGrid",children:"Intensity"})]})})]})]})}var Te=function(){return Object(u.jsxs)("div",{class:"rightBar",children:[Object(u.jsx)(Ce,{}),Object(u.jsx)(ze,{})]})},Ae=(n(55),n(56),n(28)),Fe=function(e){Object(q.a)(n,e);var t=Object(Q.a)(n);function n(e){var i;return Object(A.a)(this,n),(i=t.call(this,e)).renderThree=i.renderThree.bind(Object(X.a)(i)),i.onWindowResize=i.onWindowResize.bind(Object(X.a)(i)),i.cameraPersp=null,i.currentCamera=null,i.scene=null,i.renderer=null,i.control=null,i.orbit=null,i.raycaster=null,i.group=null,i}return Object(F.a)(n,[{key:"componentDidMount",value:function(){this.renderer=new J.S({powerPreference:"high-performance"}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.renderer.domElement);var e=window.innerWidth/window.innerHeight;this.cameraPersp=new J.B(50,e,.01,3e4),this.currentCamera=this.cameraPersp,this.currentCamera.position.set(1e3,500,1e3),this.currentCamera.lookAt(0,200,0),this.scene=new J.I,this.scene.background=new J.d(16777215);var t=new J.k(1e4,100,8947848,4473924);t.userData.className="GridHelper",this.scene.add(t),this.orbit=new Y.a(this.currentCamera,this.renderer.domElement),this.orbit.update(),this.orbit.addEventListener("change",this.renderThree),this.control=new Ae.a(this.currentCamera,this.renderer.domElement),this.control.userData.className="TransformControls",this.control.addEventListener("change",this.renderThree),this.control.addEventListener("dragging-changed",function(e){this.orbit.enabled=!e.value}.bind(this)),this.scene.add(this.control),this.raycaster=new J.H,this.renderer.domElement.addEventListener("click",function(e){var t=this,n=new J.P;n.x=e.clientX/this.renderer.domElement.clientWidth*2-1,n.y=-e.clientY/this.renderer.domElement.clientHeight*2+1,this.raycaster.setFromCamera(n,this.currentCamera);var i=this.scene.children;console.log(i),i.filter((function(e){var t=e.userData.className;return"GridHelper"!==t&&"TransformControls"!==t})).some((function(e){var n=t.raycaster.intersectObject(e,!0);if(n.length>0){var i=n[0].object;if(void 0===t.control.object||t.control.object!==i){t.control.attach(i);var r=t.context,c=r.files;return(0,r.setSelectedFile)(c.find((function(e){return e.id===i.userData.id}))),t.renderThree(),!0}}}))}.bind(this)),window.addEventListener("resize",this.onWindowResize),window.addEventListener("keydown",function(e){switch(e.keyCode){case 81:this.control.setSpace("local"===this.control.space?"world":"local");break;case 16:this.control.setTranslationSnap(100),this.control.setRotationSnap(J.t.degToRad(15)),this.control.setScaleSnap(.25);break;case 87:this.props.setEditTool("translate");break;case 69:this.props.setEditTool("rotate");break;case 82:this.props.setEditTool("scale");break;case 187:case 107:this.control.setSize(this.control.size+.1);break;case 189:case 109:this.control.setSize(Math.max(this.control.size-.1,.1));break;case 88:this.control.showX=!this.control.showX;break;case 89:this.control.showY=!this.control.showY;break;case 90:this.control.showZ=!this.control.showZ;break;case 32:this.control.enabled=!this.control.enabled}}.bind(this)),window.addEventListener("keyup",function(e){switch(e.keyCode){case 16:this.control.setTranslationSnap(null),this.control.setRotationSnap(null),this.control.setScaleSnap(null)}}.bind(this)),this.renderThree()}},{key:"componentWillUnmount",value:function(){console.log("unmount Main view"),this.scene.children.forEach((function(e){console.log(e),e.geometry.dispose(),e.material.dispose()})),this.renderer.dispose()}},{key:"onWindowResize",value:function(){var e=window.innerWidth/window.innerHeight;this.cameraPersp.aspect=e,this.cameraPersp.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderThree()}},{key:"renderThree",value:function(){this.renderer.render(this.scene,this.currentCamera)}},{key:"componentDidUpdate",value:function(){var e=this;this.control.setMode(this.props.editTool);var t=this.context,n=t.files,i=t.selectedFile;this.scene.children.forEach((function(t){var i=t.userData.className;"GridHelper"!==i&&"TransformControls"!==i&&(n.some((function(e){return e.id===t.userData.id}))||(e.control.object==t&&e.control.detach(),t.geometry.dispose(),t.material.dispose(),e.scene.remove(t)))})),he.render(n).then((function(t){t.filter((function(t){return!e.scene.children.some((function(e){return t.userData.id===e.userData.id}))})).forEach((function(t){e.scene.add(t)})),i&&i.id&&(e.control.detach(),e.scene.children.forEach((function(t){t.userData.id===i.id&&e.control.attach(t)}))),e.renderThree()}))}},{key:"render",value:function(){return Object(u.jsx)(u.Fragment,{})}}]),n}(i.Component);Fe.contextType=y;var Se=Fe;n(57);var Ee=function(e){var t=e.is2D,n=e.setIs2D,i=e.editTool,r=e.setEditTool;return Object(u.jsxs)("div",{className:"ghostButtonsUp",children:[Object(u.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(u.jsx)("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio11",autoComplete:"off",checked:t}),Object(u.jsx)("label",{onClick:function(){return n(!0)},className:"btn btn-secondary btn-sm",children:"2D"}),Object(u.jsx)("input",{type:"radio",className:"btn-check",name:"btnradio1",id:"btnradio12",autoComplete:"off",checked:!t}),Object(u.jsx)("label",{onClick:function(){return n(!1)},className:"btn btn-secondary btn-sm",children:"3D"})]}),Object(u.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(u.jsx)("input",{type:"radio",className:"btn-check",name:"btnradio3",id:"btnradio31",autoComplete:"off",checked:"translate"===i}),Object(u.jsx)("label",{onClick:function(){return r("translate")},className:"btn btn-secondary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrows-move",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})})}),Object(u.jsx)("input",{type:"radio",className:"btn-check",name:"btnradio3",id:"btnradio32",autoComplete:"off",checked:"rotate"===i}),Object(u.jsx)("label",{onClick:function(){return r("rotate")},className:"btn btn-secondary btn-sm",children:Object(u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrow-repeat",viewBox:"0 0 16 16",children:[Object(u.jsx)("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),Object(u.jsx)("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})]})}),Object(u.jsx)("input",{type:"radio",className:"btn-check",name:"btnradio3",id:"btnradio33",autoComplete:"off",checked:"scale"===i}),Object(u.jsx)("label",{onClick:function(){return r("scale")},className:"btn btn-secondary btn-sm",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-arrows-fullscreen",viewBox:"0 0 16 16",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"})})})]})]})};n(58);var Me=function(e){return Object(u.jsx)("div",{class:"ghostButtonsDown",children:Object(u.jsxs)("button",{type:"button",class:"btn btn-dark btn-sm",children:["Postion: ",e.position.join(" | ")+" ","Rotation: ",e.rotation.join(" | ")+" ","Scale: ",e.scale.join(" | ")]})})};var Pe=function(){var e=Object(i.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)("translate"),a=Object(l.a)(c,2),s=a[0],o=a[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(Ee,{is2D:n,editTool:s,setIs2D:r,setEditTool:o}),Object(u.jsx)(Me,{position:[0,0,0],rotation:[0,0,0],scale:[0,0,0]}),Object(u.jsx)(Se,{is2D:n,editTool:s,setIs2D:r,setEditTool:o})]})};n(59);var Le=function(e){var t=document.body,n=Object(i.useContext)(y),r=n.files,c=n.setFiles,a=function(e){e.preventDefault(),e.stopPropagation()},l=function(e){e.preventDefault(),e.stopPropagation()},s=function(e){e.preventDefault(),e.stopPropagation()},o=function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(console.log(e.dataTransfer),d(Object(h.a)(e.dataTransfer.files)),e.dataTransfer.clearData())},d=function(e){var t=Object(h.a)(r);e.forEach((function(e){var n=N.load(e);n&&t.push(n)})),c(t)};return Object(i.useEffect)((function(){return t.addEventListener("dragenter",l),t.addEventListener("dragleave",s),t.addEventListener("dragover",a),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",l),t.removeEventListener("dragleave",s),t.removeEventListener("dragover",a),t.removeEventListener("drop",o)}})),Object(u.jsx)(u.Fragment,{children:e.children})};n(30);var Be=function(){return Object(u.jsx)(k,{children:Object(u.jsxs)(Le,{children:[Object(u.jsx)(W,{}),Object(u.jsx)(Pe,{}),Object(u.jsx)(Te,{})]})})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(Be,{})}),document.getElementById("root")),He()}]),[[60,1,2]]]);
//# sourceMappingURL=main.a7a6671b.chunk.js.map